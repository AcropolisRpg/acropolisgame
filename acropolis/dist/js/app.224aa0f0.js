(function(e){function t(t){for(var r,n,l=t[0],o=t[1],c=t[2],h=0,d=[];h<l.length;h++)n=l[h],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==i[o]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},i={app:0},s=[];function n(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"542b58eb"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a=i[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=i[e]=[t,r]}));t.push(a[2]=r);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.src=n(e);var c=new Error;s=function(t){o.onerror=o.onload=null,clearTimeout(h);var a=i[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,a[1](c)}i[e]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/game/",l.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var h=0;h<o.length;h++)t(o[h]);var p=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("7a23");function i(e,t){var a=Object(r["u"])("router-view");return Object(r["o"])(),Object(r["c"])("div",null,[Object(r["f"])(a)])}a("e414");var s=a("6b0d"),n=a.n(s);const l={},o=n()(l,[["render",i]]);var c=o,h=(a("d3b7"),a("3ca3"),a("ddb0"),a("6c02")),p={class:"home"};function d(e,t,a,i,s,n){var l=Object(r["u"])("Acropolis");return Object(r["o"])(),Object(r["c"])("div",p,[Object(r["f"])(l)])}var y=function(e){return Object(r["r"])("data-v-3273d5da"),e=e(),Object(r["p"])(),e},u={key:0},m=y((function(){return Object(r["d"])("h3",{style:{color:"#fff","text-align":"center",padding:"5px","max-width":"200px",margin:"0 auto"}}," Welcome to Acropolis MMORPG Beta Testing! ",-1)})),f={key:1},g=Object(r["e"])('<div style="text-align:center;margin:25px auto;" data-v-3273d5da><h3 style="color:#fff;" data-v-3273d5da>Acropolis Playgrounds BETA Development!</h3><div id="phaser-example" style="border-radius:100px;" data-v-3273d5da></div><h3 style="color:#fff;" data-v-3273d5da> Click anywhere to move around or press &quot;QWERASDF&quot; key for skills. </h3><a href="https://www.acropolisrpg.com/" style="color:#fff;" data-v-3273d5da>Go to Acropolist home page</a></div><p style="color:#fff;text-align:center;" data-v-3273d5da> The first time you login you will receive a reward of 100 $ACR, be wise because that&#39;s the only currency that will be used inside and outside the game. </p><h3 style="color:#fff;text-align:center;" data-v-3273d5da> If you can&#39;t see the game screen refresh and login again! </h3><p style="color:#fff;text-align:center;" data-v-3273d5da> Server stats. <span id="online" data-v-3273d5da>0</span> users online. <span id="fps" data-v-3273d5da>0</span> server fps. <span id="worldX" data-v-3273d5da>0</span> server fps. <span id="worldY" data-v-3273d5da>0</span> server fps. </p>',4),k=[g];function b(e,t,a,i,s,n){return Object(r["o"])(),Object(r["c"])("div",null,[s.isLoggedIn?(Object(r["o"])(),Object(r["c"])("div",f,k)):(Object(r["o"])(),Object(r["c"])("div",u,[m,Object(r["d"])("p",{style:{color:"#fff","text-align":"center",border:"1px solid white",padding:"5px","max-width":"200px",margin:"0 auto"},onClick:t[0]||(t[0]=function(){return n.initGame&&n.initGame.apply(n,arguments)})}," Click here to Login! ")]))])}var v,P=a("c7eb"),S=a("1da1"),w=a("d4ef"),x=a.n(w),I=a("3835"),C=a("d4ec"),O=a("bee2"),j=a("262e"),A=a("2caf"),D=(a("159b"),a("4fad"),function(e){var t=Date.now(),a=function(){var a=e-(Date.now()-t);return a<0&&(a=e,t=Date.now()),a};return{remainigTime:a}}),T=D,R=function(e){var t=e.add.graphics(),a=e.add.graphics(),r=e.add.text(170,240,"Loading Acropolis...");a.fillStyle(2236962,.8),a.fillRect(0,270,600,50),e.load.on("progress",(function(e){console.log(e),t.clear(),t.fillStyle(16777215,1),t.fillRect(10,280,590*e,30)})),e.load.on("fileprogress",(function(e){console.log(e.src)})),e.load.on("complete",(function(){console.log("complete"),t.destroy(),a.destroy(),r.destroy()}))},F=R,N=function(e,t,a){return(1-a)*e+a*t},K=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},X=function(e){var t="/game";return t+e},L=function(e,t,a){return e.load.image(t,X(a))},M=function(e,t,a){return e.load.tilemapTiledJSON(t,X(a))},E=function(e,t,a,r){return e.load.spritesheet(t,X(a),r)},_=function(e,t){return{frameWidth:e,frameHeight:t}},G=(_(24,24),_(32,32)),q=_(96,96),B=(_(16,16),function(e){var t={key:"running",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{start:128,end:135}),frameRate:15,repeat:-1};e.anims.create(t);var a={key:"idle",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{frames:[128]}),frameRate:15,repeat:-1};e.anims.create(a);var r={key:"attack",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{start:1152,end:1155}),frameRate:15,repeat:0};e.anims.create(r);var i={key:"mining",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{start:1984,end:1988}),frameRate:15,repeat:0};e.anims.create(i);var s={key:"gathering",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{start:640,end:642}),frameRate:15,repeat:0};e.anims.create(s);var n={key:"chopping",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{start:2240,end:2244}),frameRate:15,repeat:0};e.anims.create(n);var l={key:"fishing",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{start:3008,end:3012}),frameRate:15,repeat:0};e.anims.create(l);var o={key:"watering",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{start:2496,end:2497}),frameRate:15,repeat:0};e.anims.create(o);var c={key:"shoveling",frames:e.anims.generateFrameNumbers("bodySpriteSheet",{start:2752,end:2756}),frameRate:15,repeat:0};e.anims.create(c);var h={key:"runningShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{start:200,end:207}),frameRate:15,repeat:-1};e.anims.create(h);var p={key:"idleShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{frames:[160]}),frameRate:15,repeat:-1};e.anims.create(p);var d={key:"attackShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{start:1440,end:1443}),frameRate:15,repeat:0};e.anims.create(d);var y={key:"miningShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{start:2480,end:2483}),frameRate:15,repeat:0};e.anims.create(y);var u={key:"gatheringShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{start:800,end:802}),frameRate:15,repeat:0};e.anims.create(u);var m={key:"choppingShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{start:2800,end:2804}),frameRate:15,repeat:0};e.anims.create(m);var f={key:"fishingShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{start:3760,end:3764}),frameRate:15,repeat:0};e.anims.create(f);var g={key:"wateringShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{start:3120,end:3921}),frameRate:15,repeat:0};e.anims.create(g);var k={key:"shovelingShoes",frames:e.anims.generateFrameNumbers("shoesSpriteSheet",{start:3440,end:3444}),frameRate:15,repeat:0};e.anims.create(k);var b={key:"runningClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{start:160,end:167}),frameRate:15,repeat:-1};e.anims.create(b);var v={key:"idleClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{frames:[160]}),frameRate:15,repeat:-1};e.anims.create(v);var P={key:"attackClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{start:1440,end:1443}),frameRate:15,repeat:0};e.anims.create(P);var S={key:"miningClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{start:2480,end:2483}),frameRate:15,repeat:0};e.anims.create(S);var w={key:"gatheringClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{start:800,end:802}),frameRate:15,repeat:0};e.anims.create(w);var x={key:"choppingClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{start:2800,end:2804}),frameRate:15,repeat:0};e.anims.create(x);var I={key:"fishingClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{start:3760,end:3764}),frameRate:15,repeat:0};e.anims.create(I);var C={key:"wateringClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{start:3120,end:3121}),frameRate:15,repeat:0};e.anims.create(C);var O={key:"shovelingClothes",frames:e.anims.generateFrameNumbers("clothesSpriteSheet",{start:3440,end:3444}),frameRate:15,repeat:0};e.anims.create(O)}),U=B,W=function(e,t,a){switch(t){case"running":a.sprite.play({key:"running"}),a.shoesSprite.play({key:"runningShoes"}),a.clothesSprite.play({key:"runningClothes"});break;case"idle":a.sprite.play({key:"idle"}),a.shoesSprite.play({key:"idleShoes"}),a.clothesSprite.play({key:"idleClothes"});break;case"attack":a.sprite.play({key:"attack"}),a.shoesSprite.play({key:"attackShoes"}),a.clothesSprite.play({key:"attackClothes"});break;case"mining":a.sprite.play({key:"mining"}),a.shoesSprite.play({key:"miningShoes"}),a.clothesSprite.play({key:"miningClothes"});break;case"gathering":a.sprite.play({key:"gathering"}),a.shoesSprite.play({key:"gatheringShoes"}),a.clothesSprite.play({key:"gatheringClothes"});break;case"chopping":a.sprite.play({key:"chopping"}),a.shoesSprite.play({key:"choppingShoes"}),a.clothesSprite.play({key:"choppingClothes"});break;case"fishing":a.sprite.play({key:"fishing"}),a.shoesSprite.play({key:"fishingShoes"}),a.clothesSprite.play({key:"fishingClothes"});break;case"watering":a.sprite.play({key:"watering"}),a.shoesSprite.play({key:"wateringShoes"}),a.clothesSprite.play({key:"wateringClothes"});break;case"shoveling":a.sprite.play({key:"shoveling"}),a.shoesSprite.play({key:"shovelingShoes"}),a.clothesSprite.play({key:"shovelingClothes"});break;default:break}},H=W,Q=function(e){Object(j["a"])(a,e);var t=Object(A["a"])(a);function a(){return Object(C["a"])(this,a),t.apply(this,arguments)}return Object(O["a"])(a,[{key:"init",value:function(e){this.lobbyScene={},this.lobbyScene.socket=e.socket}},{key:"preload",value:function(){F(this),L(this,"ball","/game/sprites/spikedballa.png"),L(this,"atlas","/game/tiled/atlas.png"),M(this,"forestkey","/game/tiled/forest1.json"),E(this,"bodySpriteSheet","/game/character/characters/char_all.png",G),E(this,"shoesSpriteSheet","/game/character/clothes/shoes.png",G),E(this,"clothesSpriteSheet","/game/character/clothes/basic.png",G),E(this,"balla","/game/sprites/spikedballa.png",q),this.allPlayers={},this.gameTime=Date.now(),this.followingPlayer=!1}},{key:"create",value:function(){var e=this,t=this.make.tilemap({key:"forestkey",tileWidth:16,tileHeight:16}),a=t.addTilesetImage("atlas","atlas");t.createLayer("piso",a,0,0),t.createLayer("caminos",a,0,0),t.createLayer("plantas",a,0,0),t.createLayer("construcciones",a,0,0),this.clientLastUpdate=Date.now(),this.clientLastDelta=Date.now(),this.clientLastDeltaTime=Date.now(),U(this),this.cameras.main.setBounds(0,0,1e3,1e3),this.pointerado=this.input.activePointer,this.instance1=T(5e3),this.instance2=T(1e3),this.instance3=T(100),this.lastUpdate=Date.now(),this.dt=0,this.headPosition=new x.a.Geom.Point(100,100),this.input.mouse.disableContextMenu(),this.input.on("pointerup",(function(t){if(t.leftButtonReleased()){var a,r,i,s,n,l,o,c,h;null!==(a=e.allPlayers)&&void 0!==a&&null!==(r=a[e.currentPlayerId])&&void 0!==r&&r.target&&null!==(i=e.allPlayers)&&void 0!==i&&null!==(s=i[e.currentPlayerId])&&void 0!==s&&s.sprite&&"running"!==(null===(n=e.allPlayers)||void 0===n||null===(l=n[e.currentPlayerId])||void 0===l||null===(o=l.sprite)||void 0===o||null===(c=o.anims)||void 0===c||null===(h=c.currentAnim)||void 0===h?void 0:h.key)&&(H(e,"running",e.allPlayers[e.currentPlayerId]),e.allPlayers[e.currentPlayerId].sprite.x<e.pointerado.worldX?(e.allPlayers[e.currentPlayerId].sprite.flipX=!1,e.allPlayers[e.currentPlayerId].shoesSprite.flipX=!1,e.allPlayers[e.currentPlayerId].clothesSprite.flipX=!1):(e.allPlayers[e.currentPlayerId].sprite.flipX=!0,e.allPlayers[e.currentPlayerId].shoesSprite.flipX=!0,e.allPlayers[e.currentPlayerId].clothesSprite.flipX=!0));var p={x:Math.round(t.worldX),y:Math.round(t.worldY)};e.allPlayers[e.currentPlayerId].target=p,e.lobbyScene.socket.emit("player click",p)}})),this.input.on("pointerdown",(function(t){if(t.leftButtonReleased()){var a={x:t.worldX,y:t.worldY};e.allPlayers[e.currentPlayerId].target=a}})),this.playerInputClient={},this.playerInputClient.keyQ=this.input.keyboard.addKey(x.a.Input.Keyboard.KeyCodes.Q),this.playerInputClient.keyW=this.input.keyboard.addKey(x.a.Input.Keyboard.KeyCodes.W),this.playerInputClient.keyE=this.input.keyboard.addKey(x.a.Input.Keyboard.KeyCodes.E),this.playerInputClient.keyR=this.input.keyboard.addKey(x.a.Input.Keyboard.KeyCodes.R),this.playerInputClient.keyD=this.input.keyboard.addKey(x.a.Input.Keyboard.KeyCodes.D),this.playerInputClient.keyF=this.input.keyboard.addKey(x.a.Input.Keyboard.KeyCodes.F),this.playerInputClient.keyA=this.input.keyboard.addKey(x.a.Input.Keyboard.KeyCodes.A),this.playerInputClient.keyS=this.input.keyboard.addKey(x.a.Input.Keyboard.KeyCodes.S),this.lobbyScene.socket.on("update state",(function(t){var a=t.players,r=Date.now();e.dt=(r-e.lastUpdate)/(1e3/30),e.lastUpdate=r,a.forEach((function(t){var a,r,i,s,n,l,o,c,h,p,d,y,u,m,f,g,k,b,v,P,S,w,x;(null!==(a=e.allPlayers)&&void 0!==a&&a[t.id]||(e.allPlayers[t.id]={sprite:e.add.sprite(t.position.x,t.position.y,"bodySpriteSheet"),shoesSprite:e.add.sprite(t.position.x,t.position.y,"shoesSpriteSheet"),clothesSprite:e.add.sprite(t.position.x,t.position.y,"clothesSpriteSheet"),playerId:t.id,transform:{x:t.position.x,y:t.position.y},target:{x:t.position.x,y:t.position.y},skills:null}),null===(r=t.skills)||void 0===r||!r.y||null===(i=t.skills)||void 0===i||!i.x||null!==(s=e.allPlayers)&&void 0!==s&&s[t.id].skills?null===t.skills&&null!==(n=e.allPlayers)&&void 0!==n&&n[t.id].skills&&(e.allPlayers[t.id].skills.destroy(),e.allPlayers[t.id].skills=null):e.allPlayers[t.id].skills=e.add.sprite(t.skills.x,t.skills.y,"ball"),e.instance1.remainigTime(),isNaN(e.dt))||(null!==(l=e.allPlayers)&&void 0!==l&&null!==(o=l[t.id])&&void 0!==o&&null!==(c=o.skills)&&void 0!==c&&c.x&&null!==(h=e.allPlayers)&&void 0!==h&&null!==(p=h[t.id])&&void 0!==p&&null!==(d=p.skills)&&void 0!==d&&d.y&&null!==(y=t.skills)&&void 0!==y&&y.x&&null!==(u=t.skills)&&void 0!==u&&u.y&&(e.allPlayers[t.id].skills.x=Math.round(N(e.allPlayers[t.id].skills.x,t.skills.x,e.dt)),e.allPlayers[t.id].skills.y=Math.round(N(e.allPlayers[t.id].skills.y,t.skills.y,e.dt))),e.allPlayers[t.id].sprite.x===1/0&&(e.allPlayers[t.id].sprite.x=0,e.allPlayers[t.id].shoesSprite.x=0,e.allPlayers[t.id].clothesSprite.x=0),e.allPlayers[t.id].sprite.y===1/0&&(e.allPlayers[t.id].sprite.y=0,e.allPlayers[t.id].shoesSprite.y=0,e.allPlayers[t.id].clothesSprite.y=0),e.allPlayers[t.id].transform.x=Math.round(N(e.allPlayers[t.id].sprite.x,t.position.x,e.dt)),e.allPlayers[t.id].transform.y=Math.round(N(e.allPlayers[t.id].sprite.y,t.position.y,e.dt)),e.allPlayers[t.id].target=t.target,"running"!==(null===(m=e.allPlayers)||void 0===m||null===(f=m[t.id])||void 0===f||null===(g=f.sprite)||void 0===g||null===(k=g.anims)||void 0===k||null===(b=k.currentAnim)||void 0===b?void 0:b.key)&&!e.isAttaking&&K(e.allPlayers[t.id].sprite,t.target)>1&&H(e,"running",e.allPlayers[e.currentPlayerId]),"idle"!==(null===(v=e.allPlayers)||void 0===v||null===(P=v[t.id])||void 0===P||null===(S=P.sprite)||void 0===S||null===(w=S.anims)||void 0===w||null===(x=w.currentAnim)||void 0===x?void 0:x.key)&&!e.isAttaking&&K(e.allPlayers[t.id].sprite,t.target)<1&&H(e,"idle",e.allPlayers[t.id]),e.allPlayers[t.id].sprite&&(e.allPlayers[t.id].sprite.x<t.target.x?(e.allPlayers[t.id].sprite.flipX=!1,e.allPlayers[t.id].shoesSprite.flipX=!1,e.allPlayers[t.id].clothesSprite.flipX=!1):(e.allPlayers[t.id].sprite.flipX=!0,e.allPlayers[t.id].shoesSprite.flipX=!0,e.allPlayers[t.id].clothesSprite.flipX=!0)),e.instance1.remainigTime())}));for(var i=function(){var t=Object(I["a"])(n[s],2),r=t[0],i=t[1],l=!1;a.forEach((function(e){r===e.id&&(l=!0)})),l||(i.sprite.destroy(),delete e.allPlayers[r])},s=0,n=Object.entries(e.allPlayers);s<n.length;s++)i()}))}},{key:"update",value:function(){var e=this;this.input.keyboard.checkDown(this.playerInputClient.keyQ,1e3)&&this.lobbyScene.socket.emit("player q"),this.input.keyboard.checkDown(this.playerInputClient.keyW,1e3)&&!this.isAttaking&&(this.isAttaking=!0,H(this,"attack",this.allPlayers[this.currentPlayerId]),setTimeout((function(){return e.isAttaking=!1}),267)),this.input.keyboard.checkDown(this.playerInputClient.keyE,1e3)&&!this.isAttaking&&(this.isAttaking=!0,H(this,"mining",this.allPlayers[this.currentPlayerId]),setTimeout((function(){return e.isAttaking=!1}),530)),this.input.keyboard.checkDown(this.playerInputClient.keyR,1e3)&&!this.isAttaking&&(this.isAttaking=!0,H(this,"gathering",this.allPlayers[this.currentPlayerId]),setTimeout((function(){return e.isAttaking=!1}),530)),this.input.keyboard.checkDown(this.playerInputClient.keyD,1e3)&&!this.isAttaking&&(this.isAttaking=!0,H(this,"chopping",this.allPlayers[this.currentPlayerId]),setTimeout((function(){return e.isAttaking=!1}),530)),this.input.keyboard.checkDown(this.playerInputClient.keyF,1e3)&&!this.isAttaking&&(this.isAttaking=!0,H(this,"fishing",this.allPlayers[this.currentPlayerId]),setTimeout((function(){return e.isAttaking=!1}),530)),this.input.keyboard.checkDown(this.playerInputClient.keyA,1e3)&&!this.isAttaking&&(this.isAttaking=!0,H(this,"watering",this.allPlayers[this.currentPlayerId]),setTimeout((function(){return e.isAttaking=!1}),530)),this.input.keyboard.checkDown(this.playerInputClient.keyS,1e3)&&!this.isAttaking&&(this.isAttaking=!0,H(this,"shoveling",this.allPlayers[this.currentPlayerId]),setTimeout((function(){return e.isAttaking=!1}),530));var t=Date.now();if(this.clientDeltaTime=(t-this.clientLastUpdate)/(1e3/60),this.clientLastUpdate=t,this.correction=this.clientDeltaTime/this.clientLastDeltaTime,this.clientLastDeltaTime=this.clientDeltaTime,this.allPlayers!=={}){for(var a=0,r=Object.entries(this.allPlayers);a<r.length;a++){var i,s,n,l,o,c,h,p=Object(I["a"])(r[a],1),d=p[0];if(this.lobbyScene.socket.id&&this.allPlayers[this.lobbyScene.socket.id].sprite)this.currentPlayerId=this.lobbyScene.socket.id,null!==(i=this.allPlayers)&&void 0!==i&&null!==(s=i[this.currentPlayerId])&&void 0!==s&&s.sprite&&!this.followingPlayer&&this.cameras.main&&(this.followingPlayer=!0,this.cameras.main.startFollow(this.allPlayers[this.currentPlayerId].sprite,!1,this.clientDeltaTime*this.correction,this.clientDeltaTime*this.correction),this.cameras.main.zoom=2,this.cameras.main.roundPixels=!0);if(!isNaN(this.clientDeltaTime))this.allPlayers[d].sprite.x===1/0&&(this.allPlayers[d].sprite.x=0,this.allPlayers[d].shoesSprite.x=0,this.allPlayers[d].clothesSprite.x=0),this.allPlayers[d].sprite.y===1/0&&(this.allPlayers[d].sprite.y=0,this.allPlayers[d].shoesSprite.y=0,this.allPlayers[d].clothesSprite.y=0),K(this.allPlayers[d].sprite,this.allPlayers[d].target)>1&&(this.allPlayers[d].sprite.x=N(this.allPlayers[d].sprite.x,this.allPlayers[d].transform.x,this.clientDeltaTime),this.allPlayers[d].shoesSprite.x=N(this.allPlayers[d].shoesSprite.x,this.allPlayers[d].transform.x,this.clientDeltaTime),this.allPlayers[d].clothesSprite.x=N(this.allPlayers[d].clothesSprite.x,this.allPlayers[d].transform.x,this.clientDeltaTime),this.allPlayers[d].sprite.y=N(this.allPlayers[d].sprite.y,this.allPlayers[d].transform.y,this.clientDeltaTime),this.allPlayers[d].shoesSprite.y=N(this.allPlayers[d].shoesSprite.y,this.allPlayers[d].transform.y,this.clientDeltaTime),this.allPlayers[d].clothesSprite.y=N(this.allPlayers[d].clothesSprite.y,this.allPlayers[d].transform.y,this.clientDeltaTime)),this.instance3.remainigTime(),"running"===(null===(n=this.allPlayers)||void 0===n||null===(l=n[this.currentPlayerId])||void 0===l||null===(o=l.sprite)||void 0===o||null===(c=o.anims)||void 0===c||null===(h=c.currentAnim)||void 0===h?void 0:h.key)&&!this.isAttaking&&K(this.allPlayers[this.currentPlayerId].sprite,this.allPlayers[this.currentPlayerId].target)<1&&H(this,"idle",this.allPlayers[this.currentPlayerId])}this.pointerado.leftButtonDown()&&!this.pointerado.leftButtonReleased()&&this.instance3.remainigTime()>=100&&(this.allPlayers[this.currentPlayerId].sprite&&(this.allPlayers[this.currentPlayerId].sprite.x<this.pointerado.worldX?(this.allPlayers[this.currentPlayerId].sprite.flipX=!1,this.allPlayers[this.currentPlayerId].shoesSprite.flipX=!1,this.allPlayers[this.currentPlayerId].clothesSprite.flipX=!1):(this.allPlayers[this.currentPlayerId].sprite.flipX=!0,this.allPlayers[this.currentPlayerId].shoesSprite.flipX=!0,this.allPlayers[this.currentPlayerId].clothesSprite.flipX=!0)),this.lobbyScene.socket.emit("player click",{x:Math.round(this.pointerado.worldX),y:Math.round(this.pointerado.worldY)}))}}}]),a}(x.a.Scene),Y=a("99e5"),J=a.n(Y),z=a("1adc"),$=a.n(z),V=a("daa8");v=Object(V["a"])(window.location.origin,{path:"/gameSocket"});var Z={name:"Acropolis",data:function(){return{isLoggedIn:!1}},methods:{initGame:function(){var e=function(){var e=Object(S["a"])(Object(P["a"])().mark((function e(){var t,a,r;return Object(P["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.once("connect",(function(){v.emit("register",(function(e){console.log("socketId",e)}))}));case 2:return t=new J.a(window.ethereum),e.next=5,window.ethereum.request({method:"eth_requestAccounts"});case 5:return e.next=7,t.eth.getAccounts();case 7:return a=e.sent[0],e.next=10,$.a.sign((function(e){return t.eth.personal.sign(e,a)}),"1d");case 10:r=e.sent,console.log(r),v.emit("login",r);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}},mounted:function(){var e=this;v.on("loggedIn",(function(t){console.log("leand",t),e.isLoggedIn=t,setTimeout((function(){var e={type:x.a.AUTO,scale:{parent:"phaser-example",mode:x.a.Scale.FIT,width:600,height:600}},t=new x.a.Game(e);t.scene.add("acropolisGame",Q),t.scene.start("acropolisGame",{socket:v})}),2e3)}))}};a("b97b");const ee=n()(Z,[["render",b],["__scopeId","data-v-3273d5da"]]);var te=ee,ae={name:"Home",components:{Acropolis:te}};const re=n()(ae,[["render",d]]);var ie=re,se=[{path:"/",name:"Home",component:ie},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],ne=Object(h["a"])({history:Object(h["b"])(),routes:se}),le=ne;Object(r["b"])(c).use(le).mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},"8dd3":function(e,t,a){},9:function(e,t){},b97b:function(e,t,a){"use strict";a("c37a")},c37a:function(e,t,a){},e414:function(e,t,a){"use strict";a("8dd3")}});
//# sourceMappingURL=app.224aa0f0.js.map