{"version":3,"file":"js/app.46152f90.js","mappings":"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","sources":["webpack://acropolis/./src/App.vue","webpack://acropolis/./src/App.vue?7ccd","webpack://acropolis/./node_modules/vue-loader/dist/templateLoader.js","webpack://acropolis/./src/components/AcropolisMain.vue","webpack://acropolis/./src/game/systems/loadingBar.ts","webpack://acropolis/./src/game/utils/stringHandler.ts","webpack://acropolis/./src/game/phaserHelper/loaders.ts","webpack://acropolis/./src/game/constants/constants.ts","webpack://acropolis/./src/game/systems/playerSpritesheetAnimations.ts","webpack://acropolis/./src/game/utils/cooldownTimer.ts","webpack://acropolis/./src/game/systems/createGameControllerSystem.ts","webpack://acropolis/./src/game/components/components.ts","webpack://acropolis/./src/game/systems/createSpriteSystem.ts","webpack://acropolis/./src/game/systems/createEntitySystem.ts","webpack://acropolis/./src/game/utils/transformManager.ts","webpack://acropolis/./src/game/systems/flipPlayer.ts","webpack://acropolis/./src/game/systems/createTargetMovementSystem.ts","webpack://acropolis/./src/game/systems/createTimeSystem.ts","webpack://acropolis/./src/game/systems/playerPlayAnimations.ts","webpack://acropolis/./src/game/systems/createAnimationSystem.ts","webpack://acropolis/./src/game/systems/createResourceSpriteSystem.ts","webpack://acropolis/./src/game/systems/createHealthBarSystem.ts","webpack://acropolis/./src/game/systems/createItemsSystem.ts","webpack://acropolis/./src/game/systems/createSkillsSystem.ts","webpack://acropolis/./src/game/systems/createShootingSystem.ts","webpack://acropolis/./src/game/scenes/Game.ts","webpack://acropolis/../shared/networkUpdateStateSystem.js","webpack://acropolis/./src/components/AcropolisMain.vue?1cd1","webpack://acropolis/./node_modules/vue-loader/dist/index.js","webpack://acropolis/./src/views/Home.vue","webpack://acropolis/./src/router/index.ts","webpack://acropolis/./src/main.ts","webpack://acropolis/webpack/bootstrap","webpack://acropolis/webpack/runtime/amd options","webpack://acropolis/webpack/runtime/chunk loaded","webpack://acropolis/webpack/runtime/compat get default export","webpack://acropolis/webpack/runtime/define property getters","webpack://acropolis/webpack/runtime/global","webpack://acropolis/webpack/runtime/hasOwnProperty shorthand","webpack://acropolis/webpack/runtime/make namespace object","webpack://acropolis/webpack/runtime/node module decorator","webpack://acropolis/webpack/runtime/jsonp chunk loading","webpack://acropolis/webpack/startup"],"sourcesContent":["<template>\n<div>\n  <!-- <div id=\"nav\">\n    <router-link to=\"/\">Home</router-link> |\n    <router-link to=\"/about\">About</router-link>\n  </div> -->\n  <router-view/> \n  </div>\n</template>\n\n<style>\nbody{\n  background: black;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=7f5983af\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=7f5983af&lang=css\"\n\nimport exportComponent from \"C:\\\\Proyectos\\\\acropolisgame\\\\acropolis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"home\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_AcropolisMain = _resolveComponent(\"AcropolisMain\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_AcropolisMain)\n  ]))\n}","<template>\n  <div>\n    <div v-if=\"!isLoggedIn\">\n      <h3\n        style=\"\n          color: #fff;\n          text-align: center;\n          padding: 5px;\n          max-width: 200px;\n          margin: 0 auto;\n        \"\n      >\n        Welcome to Acropolis MMORPG Beta Testing!\n      </h3>\n      <p\n        style=\"\n          color: #fff;\n          text-align: center;\n          border: 1px solid white;\n          padding: 5px;\n          max-width: 200px;\n          margin: 0 auto;\n        \"\n        @click=\"initGame\"\n      >\n       {{ loginText}}\n      </p>\n    </div>\n    <div v-else>\n      <div style=\"text-align: center; margin: 25px auto\">\n        <h3 style=\"color: #fff\">Acropolis Playgrounds BETA Development!</h3>\n        <div id=\"phaser-example\" style=\"width: 100%\"></div>\n        <h3 style=\"color: #fff\">\n          Click anywhere to move around or press \"QWERASDF\" key for skills.\n        </h3>\n        <a href=\"https://www.acropolisrpg.com/\" style=\"color: #fff\"\n          >Go to Acropolist home page</a\n        >\n      </div>\n\n      <p style=\"color: #fff; text-align: center\">\n        The first time you login you will receive a reward of 100 $ACR, be wise\n        because that's the only currency that will be used inside and outside\n        the game.\n      </p>\n      <h3 style=\"color: #fff; text-align: center\">\n        If you can't see the game screen refresh and login again!\n      </h3>\n      <p style=\"color: #fff; text-align: center\">\n        Server stats.\n        <span id=\"online\">0</span> users online. <span id=\"fps\">0</span> server\n        fps. <span id=\"worldX\">0</span> server fps.\n        <span id=\"worldY\">0</span> server fps.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Phaser from 'phaser';\nimport Game from '../game/scenes/Game';\n// import Web3 from 'web3';\n// import Web3Token from 'web3-token';\nimport io from 'socket.io-client';\n\n//local\n//const socket = io();\n// !important Production\nlet socket;\n// if (process.env.VUE_APP_ENVI === 'production') {\n//   console.log('el prod ')\n  socket = io(window.location.origin, { path: '/gameSocket' });\n// } else {\n//     console.log('sin prod ')\n//   socket = io();\n//   // socket = io(window.location.origin, { path: '/gameSocket' });\n// }\n\n// import TitleScreen from '../game/scenes/TileScreen'\nimport Web3 from 'web3';\nimport Web3Token from 'web3-token';\nimport { defineComponent } from 'vue'\nimport { networkUpdateStateSystem } from '../../../shared/networkUpdateStateSystem';\nexport default defineComponent({\n  name: 'AcropolisMain',\n  data() {\n    return {\n      isLoggedIn: false,\n      loginText: 'Click here to Login!'\n    };\n  },\n  methods: {\n    initGame() {\n      // game.scene.add('titlescreen', TitleScreen)\n      const test = async () => {\n        await socket.once('connect', () => {\n          // console.log('connected');\n          socket.emit('register', (socketId) => {\n            console.log('socketId', socketId);\n            // this.currentPlayerId = socketId;\n          });\n          //this.ball.anchor.set(0.5, 0.5);\n        });\n\n        // Connection to MetaMask wallet\n        const web3 = new Web3(window.ethereum);\n        await window.ethereum.request({ method: 'eth_requestAccounts' });\n\n        // getting address from which we will sign message\n        const address = (await web3.eth.getAccounts())[0];\n\n        // generating a token with 1 day of expiration time\n        const token = await Web3Token.sign(\n          (msg) => web3.eth.personal.sign(msg, address),\n          '1d'\n        );\n        console.log(token);\n        socket.emit('login', token);\n        // socket.emit('login');\n      };\n\n      test();\n    }\n  },\n  mounted() {\n    socket.on('loggedIn', (data) => {\n      const {isLoggedIn, entityId} = data\n      console.log('logeeasdfa', isLoggedIn)\n      // !important prod\n      if(!isLoggedIn) {\n        this.loginText = 'Account already logged in!'\n        return\n      }\n      window.acropolis = {}\n      window.acropolis.networkSystem = networkUpdateStateSystem(socket)\n      window.acropolis.currentPlayerId = entityId\n      window.acropolis.socket = socket\n      this.isLoggedIn = isLoggedIn;\n      // const deviceWidth = window.innerWidth * window.devicePixelRatio\n      // const deviceHeight = window.innerHeight * window.devicePixelRatio\n      // const pahserCanvas =  Phaser.CANVAS\n\n      setTimeout(() => {\n        const config = {\n          type: Phaser.AUTO,\n          // deviceWidth,\n          // deviceHeight,\n          // pahserCanvas,\n          scale: {\n            parent: 'phaser-example',\n            mode: Phaser.Scale.FIT,\n            width: 600,\n            height: 600\n          }\n        };\n        const game = new Phaser.Game(config);\n        game.scene.add('acropolisGame', Game);\n        game.scene.start('acropolisGame', { socket });\n      }, 3000);\n    });\n  }\n})\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\nbody {\n  cursor: url('../../public/game/cursors/cursortransparent.png'), auto;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","const loadingBar = (scene) => {\n  const progressBar = scene.add.graphics()\n  const progressBox = scene.add.graphics()\n  const text = scene.add.text(170, 240, 'Loading Acropolis...')\n\n  progressBox.fillStyle(0x222222, 0.8)\n  progressBox.fillRect(0, 270, 600, 50)\n\n  scene.load.on('progress', function (value) {\n    console.log(value)\n    progressBar.clear()\n    progressBar.fillStyle(0xffffff, 1)\n    progressBar.fillRect(10, 280, 590 * value, 30)\n  })\n\n  scene.load.on('fileprogress', function (file) {\n    console.log(file.src)\n  })\n  scene.load.on('complete', function () {\n    console.log('complete')\n    progressBar.destroy()\n    progressBox.destroy()\n    text.destroy()\n  })\n}\n\nexport default loadingBar\n","// export const pathHandler = (url) => {\n//   let pathPrefix = ''\n//   if (process.env.VUE_APP_ENVI === 'production') {\n//     console.log('pathhandler envi prod')\n//     pathPrefix = '/game'\n//   }\n//   return pathPrefix + url\n// }\n// !important Production\nexport const pathHandler = (url) => {\n  const pathPrefix = '/game';\n  return pathPrefix + url;\n};\n","import { pathHandler } from '../utils/stringHandler'\n\nexport const loadImage = (scene, key, url) => {\n  return scene.load.image(key, pathHandler(url))\n}\n\nexport const loadTilemapTiledJSON = (scene, key, url) => {\n  return scene.load.tilemapTiledJSON(key, pathHandler(url))\n}\n\nexport const loadSpritesheet = (scene, key, url, frameSizing) => {\n  return scene.load.spritesheet(key, pathHandler(url), frameSizing)\n}\n\nexport const loadAudio = (scene, key, url, data) => {\n  return scene.load.audio(key, pathHandler(url), data)\n}\n","const frameSize = (frameWidth, frameHeight) => ({\n  frameWidth,\n  frameHeight\n})\n\nexport const FRAME_SIZE_24_24 = frameSize(24, 24)\nexport const FRAME_SIZE_32_32 = frameSize(32, 32)\nexport const FRAME_SIZE_64_64 = frameSize(64, 64)\nexport const FRAME_SIZE_96_96 = frameSize(96, 96)\nexport const FRAME_SIZE_16_16 = frameSize(16, 16)\n","const animatedPlayer = (scene) => {\n  // Body\n  const running = {\n    key: 'running',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      start: 128,\n      end: 135\n    }),\n    frameRate: 15,\n    repeat: -1\n  }\n  scene.anims.create(running)\n  const idle = {\n    key: 'idle',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      frames: [128]\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(idle)\n  const attack = {\n    key: 'attack',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      start: 1152,\n      end: 1155\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(attack)\n  const mining = {\n    key: 'mining',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      start: 8 * 8 * 31,\n      end: 8 * 8 * 31 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(mining)\n  const gathering = {\n    key: 'gathering',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      start: 8 * 8 * 10,\n      end: 8 * 8 * 10 + 2\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(gathering)\n  const chopping = {\n    key: 'chopping',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      start: 8 * 8 * 35,\n      end: 8 * 8 * 35 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(chopping)\n  const fishing = {\n    key: 'fishing',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      start: 8 * 8 * 47,\n      end: 8 * 8 * 47 + 4\n    }),\n    frameRate: 7,\n    repeat: 0\n  }\n  scene.anims.create(fishing)\n  const watering = {\n    key: 'watering',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      start: 8 * 8 * 39,\n      end: 8 * 8 * 39 + 1\n    }),\n    frameRate: 3,\n    repeat: -1\n  }\n  scene.anims.create(watering)\n  const shoveling = {\n    key: 'shoveling',\n    frames: scene.anims.generateFrameNumbers('bodySpriteSheet', {\n      start: 8 * 8 * 43,\n      end: 8 * 8 * 43 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(shoveling)\n  // Shoes\n  const runningShoes = {\n    key: 'runningShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      start: 200,\n      end: 207\n    }),\n    frameRate: 15,\n    repeat: -1\n  }\n  scene.anims.create(runningShoes)\n  const idleShoes = {\n    key: 'idleShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      frames: [160]\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(idleShoes)\n  const attackShoes = {\n    key: 'attackShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      start: 1440,\n      end: 1443\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(attackShoes)\n  const miningShoes = {\n    key: 'miningShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      start: 2480,\n      end: 2483\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(miningShoes)\n  const gatheringShoes = {\n    key: 'gatheringShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      start: 8 * 10 * 10,\n      end: 8 * 10 * 10 + 2\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(gatheringShoes)\n  const choppingShoes = {\n    key: 'choppingShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      start: 8 * 10 * 35,\n      end: 8 * 10 * 35 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(choppingShoes)\n  const fishingShoes = {\n    key: 'fishingShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      start: 8 * 10 * 47,\n      end: 8 * 10 * 47 + 4\n    }),\n    frameRate: 7,\n    repeat: 0\n  }\n  scene.anims.create(fishingShoes)\n  const wateringShoes = {\n    key: 'wateringShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      start: 8 * 10 * 39,\n      end: 8 * 10 * 39\n    }),\n    frameRate: 3,\n    repeat: -1\n  }\n  scene.anims.create(wateringShoes)\n  const shovelingShoes = {\n    key: 'shovelingShoes',\n    frames: scene.anims.generateFrameNumbers('shoesSpriteSheet', {\n      start: 8 * 10 * 43,\n      end: 8 * 10 * 43 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(shovelingShoes)\n  //Hair\n  const runningHair = {\n    key: 'runningHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      start: 8 * 14 * 2,\n      end: 8 * 14 * 2 + 7\n    }),\n    frameRate: 15,\n    repeat: -1\n  }\n  scene.anims.create(runningHair)\n  const idleHair = {\n    key: 'idleHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      frames: [8 * 14 * 2]\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(idleHair)\n  const attackHair = {\n    key: 'attackHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      start: 8 * 14 * 18,\n      end: 8 * 14 * 18 + 3\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(attackHair)\n  const miningHair = {\n    key: 'miningHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      start: 8 * 14 * 31,\n      end: 8 * 14 * 31 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(miningHair)\n  const gatheringHair = {\n    key: 'gatheringHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      start: 8 * 14 * 10,\n      end: 8 * 14 * 10 + 2\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(gatheringHair)\n  const choppingHair = {\n    key: 'choppingHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      start: 8 * 14 * 35,\n      end: 8 * 14 * 35 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(choppingHair)\n  const fishingHair = {\n    key: 'fishingHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      start: 8 * 14 * 47,\n      end: 8 * 14 * 47 + 4\n    }),\n    frameRate: 7,\n    repeat: 0\n  }\n  scene.anims.create(fishingHair)\n  const wateringHair = {\n    key: 'wateringHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      start: 8 * 14 * 39,\n      end: 8 * 14 * 39\n    }),\n    frameRate: 3,\n    repeat: -1\n  }\n  scene.anims.create(wateringHair)\n  const shovelingHair = {\n    key: 'shovelingHair',\n    frames: scene.anims.generateFrameNumbers('gentlemanHairSpriteSheet', {\n      start: 8 * 14 * 43,\n      end: 8 * 14 * 43 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(shovelingHair)\n\n  // Clothes\n  const runningClothes = {\n    key: 'runningClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      start: 160,\n      end: 167\n    }),\n    frameRate: 15,\n    repeat: -1\n  }\n  scene.anims.create(runningClothes)\n\n  const idleClothes = {\n    key: 'idleClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      frames: [160]\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(idleClothes)\n  const attackClothes = {\n    key: 'attackClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      start: 1440,\n      end: 1443\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(attackClothes)\n  const miningClothes = {\n    key: 'miningClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      start: 2480,\n      end: 2483\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(miningClothes)\n  const gatheringClothes = {\n    key: 'gatheringClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      start: 8 * 10 * 10,\n      end: 8 * 10 * 10 + 2\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(gatheringClothes)\n  const choppingClothes = {\n    key: 'choppingClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      start: 8 * 10 * 35,\n      end: 8 * 10 * 35 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(choppingClothes)\n  const fishingClothes = {\n    key: 'fishingClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      start: 8 * 10 * 47,\n      end: 8 * 10 * 47 + 4\n    }),\n    frameRate: 7,\n    repeat: 0\n  }\n  scene.anims.create(fishingClothes)\n  const wateringClothes = {\n    key: 'wateringClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      start: 8 * 10 * 39,\n      end: 8 * 10 * 39 + 1\n    }),\n    frameRate: 3,\n    repeat: -1\n  }\n  scene.anims.create(wateringClothes)\n  const shovelingClothes = {\n    key: 'shovelingClothes',\n    frames: scene.anims.generateFrameNumbers('clothesSpriteSheet', {\n      start: 8 * 10 * 43,\n      end: 8 * 10 * 43 + 4\n    }),\n    frameRate: 7,\n    repeat: -1\n  }\n  scene.anims.create(shovelingClothes)\n}\n\nexport default animatedPlayer\n","// const cooldownTimer = (cooldowne) => {\r\n//   let initTime = Date.now()\r\n//   const remainigTime = () => {\r\n//     let  counter = cooldowne - (Date.now() - initTime)\r\n//     if (counter < 0 ) {\r\n//       counter = cooldowne\r\n//       initTime = Date.now()\r\n//     }\r\n//     return  counter\r\n//   }\r\n//   return {\r\n//     remainigTime\r\n//   }\r\n// }\r\n\r\n// export default cooldownTimer\r\n\r\nexport const cooldownTimer = (cooldownTime) => {\r\n  const timer = {\r\n    cooldownTime,\r\n    currentTime: cooldownTime,\r\n    isReady: true,\r\n    triggered: false\r\n  }\r\n\r\n  const timeCounter = (deltaTime) => {\r\n    if (timer.isReady && timer.triggered && timer.currentTime === cooldownTime) {\r\n      timer.isReady = false\r\n      timer.currentTime = timer.cooldownTime\r\n    } else if (!timer.isReady && timer.triggered) {\r\n      timer.currentTime = timer.currentTime - deltaTime\r\n      if (timer.currentTime < 0) {\r\n        timer.currentTime = cooldownTime\r\n        timer.triggered = false\r\n        timer.isReady = true\r\n      }\r\n    }\r\n  }\r\n\r\n  const trigger = () => {\r\n    timer.triggered = true\r\n  }\r\n  return { timer, timeCounter, trigger }\r\n}\n","import { defineSystem } from 'bitecs';\nimport { cooldownTimer } from '../utils/cooldownTimer';\n\nconst createGameControllerSystem = (scene: Phaser.Scene, socket) => {\n  // const currentPlayer = player;\n  const inputKeys = 'Q,W,E,R,A,S,D,F,T,G,ONE,TWO,THREE';\n  const keys: any = scene.input.keyboard.addKeys(inputKeys);\n  const inputKeysList = inputKeys.split(',');\n  const cooldownTime = cooldownTimer(100);\n  const activePointer = scene.input.activePointer;\n  return defineSystem((world) => {\n    const currentPlayer =\n      window.acropolis.networkSystem.getLocalEntityByNetworkId(\n        window.acropolis.currentPlayerId\n      );\n    // TODO use server time instead local time.\n    cooldownTime.timeCounter(window.acropolis.timeSystem.clientDeltaTimeNoFR);\n    // console.log('ooldownTime.timer.isReady', cooldownTime.timer.isReady)\n    // console.log('gamecontroller timer', cooldownTime.timer.currentTime)\n    // console.log('gamecontroller timer', cooldownTime.timer.isReady)\n    // TODO Move to network System?\n    for (let i = 0; i < inputKeysList.length; i++) {\n      const key = inputKeysList[i];\n      if (keys[key].isDown) {\n        switch (key) {\n          case 'ONE':\n            if (cooldownTime.timer.isReady) {\n              cooldownTime.trigger()\n              // socket.emit('playerTarget', {\n              //   x: currentPlayer.position.x,\n              //   y: currentPlayer.position.y\n              // });\n              socket.emit('playerAction', 'skill');\n              socket.emit('playerSkillPosition', {\n                x: activePointer.worldX,\n                y: activePointer.worldY\n              });\n            }\n            currentPlayer.action = 'skill';\n\n            break;\n          case 'W':\n            if (cooldownTime.timer.isReady) {\n              cooldownTime.trigger()\n              socket.emit('playerTarget', {\n                x: currentPlayer.position.x,\n                y: currentPlayer.position.y\n              });\n              socket.emit('playerAction', 'attack');\n            }\n\n            currentPlayer.action = 'attack';\n            break;\n          case 'E':\n            if (cooldownTime.timer.isReady) {\n              cooldownTime.trigger()\n              socket.emit('playerTarget', {\n                x: currentPlayer.position.x,\n                y: currentPlayer.position.y\n              });\n\n              socket.emit('playerAction', 'mining');\n            }\n            currentPlayer.action = 'mining';\n            break;\n          case 'R':\n            if (cooldownTime.timer.isReady) {\n              cooldownTime.trigger()\n              socket.emit('playerTarget', {\n                x: currentPlayer.position.x,\n                y: currentPlayer.position.y\n              });\n              socket.emit('playerAction', 'gathering');\n            }\n            currentPlayer.action = 'gathering';\n            break;\n          case 'A':\n            if (cooldownTime.timer.isReady) {\n              cooldownTime.trigger()\n              socket.emit('playerTarget', {\n                x: currentPlayer.position.x,\n                y: currentPlayer.position.y\n              });\n              socket.emit('playerAction', 'chopping');\n            }\n            currentPlayer.action = 'chopping';\n            break;\n          case 'S':\n            if (cooldownTime.timer.isReady) {\n              cooldownTime.trigger()\n              socket.emit('playerTarget', {\n                x: currentPlayer.position.x,\n                y: currentPlayer.position.y\n              });\n              socket.emit('playerAction', 'fishing');\n            }\n            currentPlayer.action = 'fishing';\n            break;\n          case 'D':\n            if (cooldownTime.timer.isReady) {\n              cooldownTime.trigger()\n              socket.emit('playerTarget', {\n                x: currentPlayer.position.x,\n                y: currentPlayer.position.y\n              });\n              socket.emit('playerAction', 'watering');\n            }\n            currentPlayer.action = 'watering';\n            break;\n          case 'F':\n            if (cooldownTime.timer.isReady) {\n              cooldownTime.trigger()\n              socket.emit('playerTarget', {\n                x: currentPlayer.position.x,\n                y: currentPlayer.position.y\n              });\n              socket.emit('playerAction', 'shoveling');\n            }\n            currentPlayer.action = 'shoveling';\n            break;\n          case 'TWO':\n              console.log('checando')\n              if (cooldownTime.timer.isReady) {\n                cooldownTime.trigger()\n                socket.emit('playerAction', 'shoot');\n                socket.emit('playerShootingPosition', {\n                  x: activePointer.worldX,\n                  y: activePointer.worldY\n                });\n              }\n              currentPlayer.action = 'shoot';\n  \n              break;\n              case 'THREE':\n                console.log('checando')\n                if (cooldownTime.timer.isReady) {\n                  cooldownTime.trigger()\n                  socket.emit('playerDash');\n                }\n                currentPlayer.action = 'dash';\n                break;\n          default:\n            break;\n        }\n      }\n    }\n    return world;\n  });\n};\nexport default createGameControllerSystem;\n","import { defineComponent, Types } from 'bitecs'\n\nexport const Vector2 = { x: Types.f32, y: Types.f32 }\n\nexport const Actions = defineComponent({ actions: Types.ui8 })\nconst GameBarFactory = () => defineComponent({\n  position: Vector2,\n  type: Types.ui8,\n  parentRef: Types.ui8,\n  currentStats: { max: Types.f32, current: Types.f32 }\n})\n\n// Factory de componentes de Barras de juego.\nexport const ManaBar = GameBarFactory()\nexport const HealthBar = GameBarFactory()\nexport const Position = defineComponent(Vector2)\nexport const TargetPosition = defineComponent(Vector2)\nexport const Sprite = defineComponent({ texture: Types.ui8 })\nexport const Body = defineComponent({ texture: Types.ui8 })\nexport const Shoes = defineComponent({ texture: Types.ui8 })\nexport const Hair = defineComponent({ texture: Types.ui8 })\nexport const Clothes = defineComponent({ texture: Types.ui8 })\nexport const Velocity = defineComponent(Vector2)\nexport const Resource = defineComponent()\n","import { defineQuery, defineSystem, enterQuery, exitQuery } from 'bitecs';\nimport { Body, Position} from '../components/components';\n\nexport const createSpriteSystem = (scene: Phaser.Scene, textures: string[]) => {\n  // const spritesById = {}\n  const spriteQuery = defineQuery([Body]);\n  const spriteQueryEnter = enterQuery(spriteQuery);\n  const spriteQueryExit = exitQuery(spriteQuery);\n  const timeSystem = window.acropolis.timeSystem;\n  const getLocalEntityByLocalId =\n    window.acropolis.networkSystem.getLocalEntityByLocalId;\n  return defineSystem((world) => {\n    const enterEntities = spriteQueryEnter(world);\n    for (let i = 0; i < enterEntities.length; i++) {\n      const id = enterEntities[i];\n      const entity = getLocalEntityByLocalId(id);\n      const networkEntity =  window.acropolis.networkSystem.getNetworkEntityByLocalId(id)\n      entity.sprites = {};\n      entity.sprites.body = scene.add.sprite(0, 0, 'bodySpriteSheet');\n      entity.sprites.clothes = scene.add.sprite(0, 0, 'clothesSpriteSheet');\n      entity.sprites.shoes = scene.add.sprite(0, 0, 'shoesSpriteSheet');\n      entity.sprites.hair = scene.add.sprite(0, 0, 'gentlemanHairSpriteSheet');\n      Position.x[id] = networkEntity.position.x\n      Position.y[id] = networkEntity.position.y\n      entity.position.x  = Position.x[id];\n      entity.position.y  = Position.y[id];\n      // console.log('el current player',window.acropolis.currentPlayerId, entity.id, )\n    }\n\n    const entities = spriteQuery(world);\n    for (let i = 0; i < entities.length; i++) {\n      const id = entities[i];\n      const entity = getLocalEntityByLocalId(id);\n      const { body, clothes, shoes, hair } = entity.sprites;\n      if (!body) {\n        continue;\n      }\n      body.x = Position.x[id];\n      body.y = Position.y[id];\n      clothes.x = Position.x[id];\n      clothes.y = Position.y[id];\n      shoes.x = Position.x[id];\n      shoes.y = Position.y[id];\n      hair.x = Position.x[id];\n      hair.y = Position.y[id];\n      entity.position.x  = Position.x[id];\n      entity.position.y  = Position.y[id];\n      if (window.acropolis.currentPlayerId === entity.id) {\n        scene.cameras.main.startFollow(\n          entity.sprites.body,\n          true,\n          timeSystem.clientDeltaTime * timeSystem.correction,\n          timeSystem.clientDeltaTime * timeSystem.correction\n        );\n        scene.cameras.main.zoom = 1;\n        scene.cameras.main.roundPixels = true;\n      // scene.cameras.main.startFollow\n      // console.log(entity.position.x, entity.position.y)\n      }\n      // console.log\n      // scene.cameras.main.x = entity.position.x\n      // scene.cameras.main.y = entity.position.y\n    }\n\n    const exitEntities = spriteQueryExit(world);\n    for (let i = 0; i < exitEntities.length; i++) {\n      const id = exitEntities[i];\n      const entity = getLocalEntityByLocalId(id);\n      const { body, clothes, shoes , hair } = entity.sprites;\n      console.log('spriteQuery Exit');\n      if (!body) {\n        continue;\n      }\n      body.destroy();\n      clothes.destroy();\n      shoes.destroy();\n      hair.destroy();\n    }\n    return world;\n  });\n};\n","import {\n  addEntity,\n  entityExists,\n  addComponent,\n  removeEntity,\n  defineSystem\n} from 'bitecs'\nimport { Resource, Position, TargetPosition, Actions, Body, Shoes, Hair, Clothes } from '../components/components'\n\nexport const createEntitySystem = () => {\n  return defineSystem((world) => {\n    const networkEntities = window.acropolis.networkSystem.getNetworkEntities()\n    const localEntitiesIds =\n      window.acropolis.networkSystem.getNetworkEntitiesIDsByLocalID()\n    const localEntitiesByNetworkId =\n      window.acropolis.networkSystem.getLocalEntitiesIDsByNetworkID()\n\n    for (const [entityId, entity] of Object.entries < any > (networkEntities)) {\n      if (\n        localEntitiesByNetworkId?.[entityId] >= 0 &&\n        entityExists(world, localEntitiesByNetworkId[entityId])\n      ) {\n        continue\n      }\n      if (entity.type === 'player') {\n        const playerId = addEntity(world)\n        const clonedEntity = JSON.parse(JSON.stringify(entity))\n        window.acropolis.networkSystem.setLocalEntityByLocalId(\n          playerId,\n          clonedEntity\n        )\n        window.acropolis.networkSystem.setLocalEntityIDbyNetworkID(\n          entityId,\n          playerId\n        )\n        window.acropolis.networkSystem.setNetworkEntityIDbyLocalID(\n          entityId,\n          playerId\n        )\n        addComponent(world, Position, playerId)\n        addComponent(world, Body, playerId)\n        addComponent(world, Shoes, playerId)\n        addComponent(world, Hair, playerId)\n        addComponent(world, Clothes, playerId)\n        addComponent(world, TargetPosition, playerId)\n        addComponent(world, Actions, playerId)\n      }\n      if (entity.type === 'resource') {\n        const resourceId = addEntity(world)\n        const clonedEntity = JSON.parse(JSON.stringify(entity))\n        window.acropolis.networkSystem.setLocalEntityByLocalId(\n          resourceId,\n          clonedEntity\n        )\n        window.acropolis.networkSystem.setLocalEntityIDbyNetworkID(\n          entityId,\n          resourceId\n        )\n        window.acropolis.networkSystem.setNetworkEntityIDbyLocalID(\n          entityId,\n          resourceId\n        )\n        addComponent(world, Position, resourceId)\n        addComponent(world, Resource, resourceId)\n      }\n    }\n\n    for (const [localId, networkId] of Object.entries <any> (localEntitiesIds)) {\n      let exist = false\n      for (const [entityId] of Object.entries(networkEntities)) {\n        if (networkId === entityId) {\n          exist = true\n        }\n      }\n      if (!exist) {\n        removeEntity(world, Number(localId))\n      }\n    }\n    return world\n  })\n}\n","export const lerp = (start, end, amt) => {\n  return (1 - amt) * start + amt * end\n}\n\nexport const getDistance = (Vector1, Vector2) => {\n  return Math.sqrt(\n    Math.pow(Vector1.x - Vector2.x, 2) + Math.pow(Vector1.y - Vector2.y, 2)\n  )\n}\n","export const flipPlayerX = (sprites, flip = false) => {\n  for (const [key] of Object.entries(sprites)) {\n    if (key === 'body' || key === 'clothes' || key === 'shoes' || key === 'hair') {\n      sprites[key].flipX = flip\n    }\n  }\n}\n\nexport const flipPlayerY = (sprites, flip = false) => {\n  for (const [key] of Object.entries(sprites)) {\n    sprites[key].flipY = flip\n  }\n}\n","import { Position, TargetPosition } from './../components/components';\nimport { defineQuery, defineSystem } from 'bitecs';\nimport { getDistance, lerp } from '../utils/transformManager';\nimport { flipPlayerX } from './flipPlayer';\nimport { cooldownTimer } from '../utils/cooldownTimer';\n\nexport const createTargetMovementSystem = (scene: Phaser.Scene, socket) => {\n  const movementQuery = defineQuery([TargetPosition, Position]);\n  const activePointer = scene.input.activePointer;\n  const cooldownTime = cooldownTimer(100);\n  // console.log('madres', window.acropolis.timeSystem.clientDeltaTimeNoFR)\n  // let animation = null;\n  return defineSystem((world) => {\n  cooldownTime.timeCounter(window.acropolis.timeSystem.clientDeltaTimeNoFR)\n  // console.log('targetMovement', cooldownTime.timer.currentTime)\n  // console.log('targetMovement', cooldownTime.timer.isReady)\n    const clientDeltaTime = window.acropolis.timeSystem.clientDeltaTime;\n    const entities = movementQuery(world);\n    for (let i = 0; i < entities.length; i++) {\n      const id = entities[i];\n      const entity =\n        window.acropolis.networkSystem.getNetworkEntityByLocalId(id);\n      if (!entity || window?.acropolis?.inventory?.inventoryOpen) {\n        continue;\n      }\n      // console.log('position', entity.position.x, entity.position.y)\n\n      // !important the lerp is causing issues when switching tabs because delta time removing becuase its worst ATM\n      //  Position.x[id] = lerp(Position.x[id], entity.position.x, clientDeltaTime);\n      //  Position.y[id] = lerp(Position.y[id], entity.position.y, clientDeltaTime);\n      Position.x[id] = entity.position.x\n      Position.y[id] = entity.position.y\n      const localEntity =\n        window.acropolis.networkSystem.getLocalEntityByLocalId(id);\n\n      if (!localEntity?.sprites?.body) {\n        continue;\n      }\n\n      // !TODO move to animation system\n      const distance = getDistance(localEntity.sprites.body, entity.target);\n      // console.log('distance', distance)\n      if (\n        localEntity.action !== 'running' &&\n        distance > 1\n      ) {\n        localEntity.action = 'running'\n      }\n      if (\n        localEntity.action !== 'idle' &&\n        distance < 1\n      ) {\n        localEntity.action = 'idle'\n      }\n      if (localEntity.sprites.body.x < entity.target.x) {\n        flipPlayerX(localEntity.sprites);\n      } else {\n        flipPlayerX(localEntity.sprites, true);\n      }\n      if (\n        activePointer.leftButtonDown() &&\n        !activePointer.leftButtonReleased() &&\n        cooldownTime.timer.isReady\n      ) {\n        cooldownTime.trigger()\n        if (localEntity.sprites.body.x < activePointer.worldX) {\n          flipPlayerX(localEntity.sprites);\n        } else {\n          flipPlayerX(localEntity.sprites, true);\n        }\n        if(activePointer.y > 550 && activePointer.x > 550){\n          return\n        }\n        socket.emit('playerTarget', {\n          x: Math.round(activePointer.worldX),\n          y: Math.round(activePointer.worldY)\n        });\n\n      }\n    }\n    return world;\n  });\n};\n","import {\n  defineSystem\n} from 'bitecs'\n\nexport const createTimeSystem = () => {\n  window.acropolis.timeSystem = {}\n  const timeSystem = window.acropolis.timeSystem\n  // window.acropolis.timeSystem.frameRate = 1000/60\n  timeSystem.frameRate = 1000 / 60\n  timeSystem.clientDeltaTime = 1\n  timeSystem.clientLastUpdate = Date.now()\n  timeSystem.clientLastDeltaTime = 1\n  timeSystem.clientDeltaTimeNoFR = 0\n  return defineSystem(world => {\n    const clientNow = Date.now()\n    timeSystem.clientDeltaTimeNoFR = (clientNow - timeSystem.clientLastUpdate)\n    timeSystem.clientDeltaTime = (clientNow - timeSystem.clientLastUpdate) / timeSystem.frameRate\n    timeSystem.clientLastUpdate = clientNow\n    timeSystem.correction = timeSystem.clientDeltaTime / timeSystem.clientLastDeltaTime\n    timeSystem.clientLastDeltaTime = timeSystem.clientDeltaTime\n    return world\n  })\n}\n","const playerPlayAnimation = (scene, animationKey, playerInstance) => {\n  window.acropolis.walking.stop()\n  window.acropolis.sword.stop()\n  window.acropolis.wood.stop()\n  window.acropolis.pickaxe.stop()\n  window.acropolis.fishing.stop()\n  window.acropolis.watering.stop()\n  window.acropolis.gathering.stop()\n  window.acropolis.shoveling.stop()\n  switch (animationKey) {\n    case 'running':\n\n      playerInstance.sprites.body.play({ key: 'running' })\n      playerInstance.sprites.shoes.play({ \n        key:'runningShoes'\n      })   \n      playerInstance.sprites.hair.play({\n        key: 'runningHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'runningClothes'\n      })\n      // setInterval( ()=>{\n      //   scene.sound.play('playerStep');\n      // },150)\n     \n      window.acropolis.walking.play()\n\n      // playerInstance.sprites.body.on('animationrepeat', function () {\n      //   if(playerInstance.sprites.body.anims.currentAnim.key === 'running') {\n      //     scene.sound.stop('playerStep')\n      //     scene.sound.resume('playerStep');\n      //     // console.log('correindolachis')\n      //   }\n      // });\n      break\n    case 'idle':\n      playerInstance.sprites.body.play({ key: 'idle' })\n      playerInstance.sprites.shoes.play({ \n        key: 'idleShoes' \n      })     \n      playerInstance.sprites.hair.play({\n        key: 'idleHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'idleClothes'\n      })\n      break\n    case 'attack':\n      playerInstance.sprites.body.play({ key: 'attack' })\n      playerInstance.sprites.shoes.play({\n        key: 'attackShoes'\n      })\n      playerInstance.sprites.hair.play({\n        key: 'attackHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'attackClothes'\n      })\n      window.acropolis.sword.play()\n      break\n    case 'mining':\n      playerInstance.sprites.body.play({ key: 'mining' })\n      playerInstance.sprites.shoes.play({\n        key: 'miningShoes'\n      })\n      playerInstance.sprites.hair.play({\n        key: 'miningHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'miningClothes'\n      })\n      window.acropolis.pickaxe.play()\n      break\n    case 'gathering':\n      playerInstance.sprites.body.play({ key: 'gathering' })\n      playerInstance.sprites.shoes.play({\n        key: 'gatheringShoes'\n      })\n      playerInstance.sprites.hair.play({\n        key: 'gatheringHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'gatheringClothes'\n      })\n      window.acropolis.gathering.play()\n      break\n    case 'chopping':\n      playerInstance.sprites.body.play({ key: 'chopping' })\n      playerInstance.sprites.shoes.play({\n        key: 'choppingShoes'\n      })\n      playerInstance.sprites.hair.play({\n        key: 'choppingHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'choppingClothes'\n      })\n      window.acropolis.wood.play()\n      break\n    case 'fishing':\n      playerInstance.sprites.body.play({ key: 'fishing' })\n      playerInstance.sprites.shoes.play({\n        key: 'fishingShoes'\n      })\n      playerInstance.sprites.hair.play({\n        key: 'fishingHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'fishingClothes'\n      })\n      window.acropolis.fishing.play()\n      break\n    case 'watering':\n      playerInstance.sprites.body.play({ key: 'watering' })\n      playerInstance.sprites.shoes.play({\n        key: 'wateringShoes'\n      })\n      playerInstance.sprites.hair.play({\n        key: 'wateringHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'wateringClothes'\n      })\n      window.acropolis.watering.play()\n      break\n    case 'shoveling':\n      playerInstance.sprites.body.play({ key: 'shoveling' })\n      playerInstance.sprites.shoes.play({\n        key: 'shovelingShoes'\n      })\n      playerInstance.sprites.hair.play({\n        key: 'shovelingHair'\n      })\n      playerInstance.sprites.clothes.play({\n        key: 'shovelingClothes'\n      })\n      window.acropolis.shoveling.play()\n      break\n\n    default:\n      break\n  }\n}\n\nexport default playerPlayAnimation\n","import { defineSystem } from 'bitecs';\nimport playerPlayAnimation from './playerPlayAnimations';\n\nconst createAnimationSystem = (scene: Phaser.Scene) => {\n  const lastAnimation = []\n  return defineSystem((world) => {\n    // const currentPlayer =\n    //   window.acropolis.networkSystem.getLocalEntityByNetworkId(\n    //     window.acropolis.currentPlayerId\n    //   );\n    // if (lastAnimation !== currentPlayer.action) {\n    //   lastAnimation = currentPlayer.action;\n    //   playerPlayAnimation(scene, currentPlayer.action, currentPlayer);\n    // }\n\n    const allPlayers = window.acropolis.networkSystem.getNetworkEntities()\n    for (const [entityId, entity] of Object.entries<any>(allPlayers)) {\n      if (entity.type === 'player' && lastAnimation[entityId] !== entity.action) {\n        // console.log('entityId', entityId, 'entity actuio', entity.action)\n        lastAnimation[entityId] = entity.action;\n        playerPlayAnimation(scene, entity.action, window.acropolis.networkSystem.getLocalEntityByNetworkId(entityId));\n      }\n    }\n    return world;\n  });\n};\nexport default createAnimationSystem;\n","import { defineQuery, defineSystem, enterQuery, exitQuery } from 'bitecs';\nimport { Resource, Position } from '../components/components';\n\nexport const createResourceSpriteSystem = (scene: Phaser.Scene) => {\n  // const spritesById = {}\n  const resourceQuery = defineQuery([Resource]);\n  const resourceQueryEnter = enterQuery(resourceQuery);\n  const resourceQueryExit = exitQuery(resourceQuery);\n  const timeSystem = window.acropolis.timeSystem;\n  const getLocalEntityByLocalId =\n    window.acropolis.networkSystem.getLocalEntityByLocalId;\n  return defineSystem((world) => {\n    const enterEntities = resourceQueryEnter(world);\n    for (let i = 0; i < enterEntities.length; i++) {\n      const id = enterEntities[i];\n      const entity = getLocalEntityByLocalId(id);\n      // console.log('entity', entity)\n      entity.sprites = {};\n      if (entity.category === 'tree') {\n        entity.sprites.body = scene.add.sprite(entity.position.x, entity.position.y -15, 'trees');\n        entity.sprites.body.setScale(2)\n      }\n\n      if (entity.category === 'herb') {\n        entity.sprites.body = scene.add.sprite(entity.position.x, entity.position.y - 5, 'globalNature');\n        entity.sprites.body.setFrame(60)\n        entity.sprites.body.setScale(2)\n      }\n      if (entity.category === 'stone') {\n        entity.sprites.body = scene.add.sprite(entity.position.x, entity.position.y + 5, 'TXprops');\n        entity.sprites.body.setFrame(245)\n      }\n      if (entity.category === 'sand') {\n        entity.sprites.body = scene.add.sprite(entity.position.x, entity.position.y + 5, 'sand');\n        // entity.sprites.body.setFrame(4)\n      }\n      if (entity.category === 'animal') {\n        entity.sprites.body = scene.add.sprite(entity.position.x, entity.position.y + 5, 'chicken');\n        entity.sprites.body.setFrame(4)\n        const animatedChicken = {\n          key: 'animatedChicken',\n          frames: scene.anims.generateFrameNumbers('chicken', {\n            start: 1,\n            end: 4\n          }),\n          frameRate: 4,\n          repeat: -1\n        }\n        scene.anims.create(animatedChicken)\n        setTimeout( ()=>{\n          entity.sprites.body.play({ \n            key:'animatedChicken'\n          })   \n        },1000)\n\n      }\n      if (entity.category === 'crop') {\n        entity.sprites.body = scene.add.sprite(entity.position.x, entity.position.y + 5, 'crops');\n        entity.sprites.body.setFrame(4)\n        const animatedCrop = {\n          key: 'animatedCrop',\n          frames: scene.anims.generateFrameNumbers('crops', {\n            start: 1,\n            end: 5\n          }),\n          frameRate: 0.1,\n          repeat: -1\n        }\n        scene.anims.create(animatedCrop)\n        setTimeout( ()=>{\n          entity.sprites.body.play({ \n            key:'animatedCrop'\n          })   \n        },1000)\n      }\n\n      // !Important To set multiple resources you can select a frame and change widh and height or without for default\n      // if(id === 0) {\n      //   entity.sprites.body.setFrame(2, widht, height)\n       //   entity.sprites.body.setFrame(2, widht, height)\n      // }\n    }\n\n    const entities = resourceQuery(world);\n    for (let i = 0; i < entities.length; i++) {\n      const id = entities[i];\n      const entity = getLocalEntityByLocalId(id);\n      const { body } = entity.sprites;\n      if (!body) {\n        continue;\n      }\n      if (entity.category === 'tree') {\n        body.x = entity.position.x\n        body.y = entity.position.y -15\n      }\n      if (entity.category === 'herb') {\n        body.x = entity.position.x\n        body.y = entity.position.y \n      }\n    }\n\n    const exitEntities = resourceQueryExit(world);\n    for (let i = 0; i < exitEntities.length; i++) {\n      const id = exitEntities[i];\n      const entity = getLocalEntityByLocalId(id);\n      const { body, clothes, shoes } = entity.sprites;\n      console.log('resourceQuery Exit');\n      if (!body) {\n        continue;\n      }\n      body.destroy();\n    }\n    return world;\n  });\n};\n","import { defineQuery, defineSystem, enterQuery, exitQuery } from 'bitecs';\nimport { Body, Position} from '../components/components';\nimport Phaser from 'phaser';\nexport const createHealthBarSystem = (scene: Phaser.Scene) => {\n  // const spritesById = {}\n  const spriteQuery = defineQuery([Body]);\n  const spriteQueryEnter = enterQuery(spriteQuery);\n  const spriteQueryExit = exitQuery(spriteQuery);\n  const timeSystem = window.acropolis.timeSystem;\n  const getLocalEntityByLocalId =\n    window.acropolis.networkSystem.getLocalEntityByLocalId;\n  return defineSystem((world) => {\n    const enterEntities = spriteQueryEnter(world);\n    for (let i = 0; i < enterEntities.length; i++) {\n      const id = enterEntities[i];\n      const entity = getLocalEntityByLocalId(id);\n      entity.sprites.healthBarDecoration = scene.add.sprite(50, 15, 'healthBarDecoration');\n      entity.sprites.healthBarDecoration.setScrollFactor(0, 0)\n      entity.sprites.healthBar = scene.add.sprite(57, 15, 'healthBar')\n      entity.sprites.healthBar.setScrollFactor(0, 0)\n      \n    }\n    const entities = spriteQuery(world)\n    for (let i = 0; i < entities.length; i++) {\n      const id = entities[i];\n      const entity = getLocalEntityByLocalId(id);\n      const networkEntity = window.acropolis.networkSystem.getNetworkEntityByLocalId(id)\n      if(networkEntity.healthPoints < 100) {\n        if(entity.healthPoints > networkEntity.healthPoints){\n          if(!window.acropolis.hurt.isPlaying) {\n            window.acropolis.hurt.stop()\n            window.acropolis.hurt.play()\n            window.acropolis.body.stop()\n            window.acropolis.body.play()\n          }\n        }\n        // setTimeout(()=>{\n\n        // },5000)\n        // console.log('orale perro', entity.healthPoints)\n        const multiplier = networkEntity.healthPoints/100\n        entity.healthPoints = networkEntity.healthPoints\n        entity.sprites.healthBar.setCrop(0, 0, 50 * multiplier, 10)\n      }\n    }\n \n\n    const exitEntities = spriteQueryExit(world);\n    for (let i = 0; i < exitEntities.length; i++) {\n      const id = exitEntities[i];\n      const entity = getLocalEntityByLocalId(id);\n      const { healthBar, healthBarDecoration } = entity.sprites;\n      if (!healthBar) {\n        continue;\n      }\n      healthBar.destroy();\n      healthBarDecoration.destroy();\n    }\n    return world;\n  });\n};\n","import { defineQuery, defineSystem, enterQuery, exitQuery } from 'bitecs';\nimport { Body, Position } from '../components/components';\nimport _ from 'lodash';\n\nexport const createItemsSystem = (scene: Phaser.Scene) => {\n  // const spritesById = {}\n  const spriteQuery = defineQuery([Body]);\n  const spriteQueryEnter = enterQuery(spriteQuery);\n  const spriteQueryExit = exitQuery(spriteQuery);\n  const timeSystem = window.acropolis.timeSystem;\n  const getLocalEntityByLocalId =\n    window.acropolis.networkSystem.getLocalEntityByLocalId;\n  let initBackpack = false;\n  let x = 288;\n  let y = 416;\n  let counter = 1;\n  const inventoryLayout = [];\n  let layoutX = 288;\n  let layoutY = 416;\n  let inventoryId = 1;\n  let entity;\n  let networkEntity;\n\n  const generateInventoryLayout = () => {\n    for (let y = 0; y < 4; y++) {\n      layoutX = 288;\n      for (let x = 0; x < 8; x++) {\n        inventoryLayout.push({\n          id: inventoryId,\n          position: { x: layoutX, y: layoutY },\n          itemId: ''\n        });\n        layoutX += 32;\n        inventoryId++;\n      }\n      layoutY += 32;\n    }\n  };\n\n  const makeItemDraggable = (key, entity) => {\n    entity.sprites.items[key].sprite.setInteractive();\n    entity.sprites.items[key].sprite.setData({ id: key });\n    entity.sprites.items[key].sprite.setScrollFactor(0, 0);\n    entity.sprites.items[key].qty.setData({ id: key });\n    entity.sprites.items[key].qty.setInteractive({\n      draggable: true,\n      // SETUP hitarea\n      hitArea: new Phaser.Geom.Rectangle(-16, -16, 32, 32),\n      //Check hitarea\n      hitAreaCallback: function (hitArea, x, y) {\n        return Phaser.Geom.Rectangle.Contains(hitArea, x, y);\n      }\n    });\n    entity.sprites.items[key].qty.setScrollFactor(0, 0);\n    scene.input.setDraggable(entity.sprites.items[key].sprite);\n  };\n\n  const updateLayoutCounter = () => {\n    x += 32;\n    counter++;\n    if (counter > 8) {\n      y += 32;\n      x = 288;\n    }\n  };\n\n  const updateInventoryLayoutItem = (key, item) => {\n    inventoryLayout.forEach((inventoryItem) => {\n      if (\n        inventoryItem.position.x === item.sprite.x &&\n        inventoryItem.position.y === item.sprite.y\n      ) {\n        inventoryItem.itemId = key;\n      }\n    });\n  };\n\n  const setItemImage = (key, entity) => {\n    switch (key) {\n      case 'basicWood':\n        entity.sprites.items[key].sprite.setFrame(16 * 60 - 2);\n        break;\n      case 'basicStone':\n        entity.sprites.items[key].sprite.setFrame(16 * 54 - 5);\n        break;\n      case 'basicHerb':\n        entity.sprites.items[key].sprite.setFrame(16 * 18);\n        break;\n      case 'basicLeather':\n        entity.sprites.items[key].sprite.setFrame(16 * 55 - 4);\n        break;\n      case 'basicCrop':\n        entity.sprites.items[key].sprite.setFrame(16 * 19 + 6);\n        break;\n      case 'basicSand':\n        entity.sprites.items[key].sprite.setFrame(16 * 60 - 11);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const manageDnDInventory = () => {\n    scene.input.on('drag', function (pointer, gameObject, dragX, dragY) {\n      if (dragX >= 288 && dragX <= 512 && dragY >= 416 && dragY <= 512) {\n        gameObject.x = Phaser.Math.Snap.To(dragX, 32);\n        gameObject.y = Phaser.Math.Snap.To(dragY, 32);\n        inventoryLayout.forEach((inventoryItem) => {\n          if (\n            inventoryItem.position.y === gameObject.y &&\n            inventoryItem.position.x === gameObject.x &&\n            inventoryItem.itemId // y tiene item\n          ) {\n            const currentItemInventory = inventoryLayout.find(\n              (invItem) => invItem.itemId === gameObject.getData('id')\n            );\n            if (currentItemInventory) {\n              const itemId = currentItemInventory.itemId;\n              const itemToUpdate = entity.sprites.items[inventoryItem.itemId];\n              itemToUpdate.sprite.x = currentItemInventory.position.x;\n              itemToUpdate.sprite.y = currentItemInventory.position.y;\n              itemToUpdate.qty.x = currentItemInventory.position.x;\n              itemToUpdate.qty.y = currentItemInventory.position.y;\n              currentItemInventory.itemId = inventoryItem.itemId;\n              inventoryItem.itemId = itemId;\n            }\n          } else if (\n            inventoryItem.position.y === gameObject.y &&\n            inventoryItem.position.x === gameObject.x\n          ) {\n            const currentItemInventory = inventoryLayout.find(\n              (invItem) => invItem.itemId === gameObject.getData('id')\n            );\n            inventoryItem.itemId = gameObject.getData('id');\n            currentItemInventory.itemId = '';\n            // console.log('Inventory Layout',inventoryLayout)\n          }\n        });\n      }\n    });\n  };\n\n  const createBackPackInventory = (entity) => {\n    entity.sprites.inventory = scene.add.sprite(400, 370, 'inventory');\n    entity.sprites.backpack = scene.add.sprite(575, 575, 'backpack');\n    scene.input.topOnly = false;\n    entity.sprites.backpack.setScrollFactor(0, 0);\n    entity.sprites.backpack.setInteractive();\n    window.acropolis.inventory = {};\n    window.acropolis.inventory.inventoryOpen = true;\n    entity.sprites.inventory.setScrollFactor(0, 0);\n    entity.sprites.inventory.setInteractive();\n    entity.sprites.inventory.setScale(2);\n    entity.sprites.backpack.setName('backpack');\n  };\n\n  const openCloseBackpackInventory = () => {\n    scene.input.on(\n      'pointerdown',\n      (\n        pointer: Phaser.Input.Pointer,\n        objectsClicked: Phaser.GameObjects.GameObject[]\n      ) => {\n        if (objectsClicked?.[0]?.name === 'backpack') {\n          window.acropolis.inventory.inventoryOpen =\n            !window.acropolis.inventory.inventoryOpen;\n\n          if (entity?.sprites?.items) {\n            for (const [, item] of Object.entries<any>(entity.sprites.items)) {\n              item.sprite.setVisible(!item.sprite.visible);\n              item.qty.setVisible(!item.qty.visible);\n            }\n          }\n          entity.sprites.inventory.setVisible(\n            !entity.sprites.inventory.visible\n          );\n        }\n      }\n    );\n  };\n\n  return defineSystem((world) => {\n    if (!window?.acropolis?.currentPlayerId) {\n      return;\n    }\n    /// intentando hacer el ciclo de refrescamiento\n    entity = window.acropolis.networkSystem.getLocalEntityByNetworkId(\n      window.acropolis.currentPlayerId\n    );\n    networkEntity = window.acropolis.networkSystem.getNetworkEntityByNetworkID(\n      window.acropolis.currentPlayerId\n    );\n    // Refresh items if doesn't have items.\n    if(entity?.items === null){\n      entity.items = networkEntity.items\n    }\n    if (initBackpack) {\n      if (networkEntity?.items) {\n        if (entity?.items) {\n          // Layout 16x64\n          for (const [key, networkItem] of Object.entries<any>(\n            networkEntity.items\n          )) {\n            if (entity.sprites.items[key]) {\n              //actualizar el texto de cantidad de items\n              entity.sprites.items[key].qty.setText(networkItem.quantity);\n              continue;\n            }\n            const item = {\n              sprite: scene.add.sprite(x, y, 'icons'),\n              qty: scene.add.text(x, y, networkItem.quantity)\n            };\n            entity.sprites.items[key] = item;\n\n            const visibility = window.acropolis.inventory.inventoryOpen;\n            item.sprite.setVisible(visibility);\n            item.qty.setVisible(visibility);\n\n            updateInventoryLayoutItem(key, item);\n            setItemImage(key, entity);\n            makeItemDraggable(key, entity);\n            updateLayoutCounter();\n          }\n        }\n      }\n    }\n    // qeui termina el intento\n    if (initBackpack) {\n      return;\n    }\n\n    if (!entity?.sprites) {\n      return;\n    }\n    initBackpack = true;\n    createBackPackInventory(entity);\n    generateInventoryLayout();\n    entity.sprites.items = {};\n    if (networkEntity?.items) {\n      //estop ver donde va\n      if (entity?.items) {\n        // Layout 16x64\n        for (const [key, networkItem] of Object.entries<any>(\n          networkEntity.items\n        )) {\n          if (entity.sprites.items[key]) {\n            continue;\n          }\n          const item = {\n            sprite: scene.add.sprite(x, y, 'icons'),\n            qty: scene.add.text(x, y, networkItem.quantity)\n          };\n          entity.sprites.items[key] = item;\n          updateInventoryLayoutItem(key, item);\n          setItemImage(key, entity);\n          makeItemDraggable(key, entity);\n          updateLayoutCounter();\n        }\n      }\n    }\n    manageDnDInventory();\n    openCloseBackpackInventory();\n\n    // TODO actualizar los estupidos valores numericos de la base de datos porque claro que si!\n    // TODO revidsar porque se rompe el sistema de ordenamiento de items.\n\n    // if (entity?.sprites) {\n    //   networkEntity =\n    //     window.acropolis.networkSystem.getNetworkEntityByNetworkID(\n    //       window.acropolis.currentPlayerId\n    //     );\n\n    //     if(!networkEntity?.items) {\n    //       return\n    //     }\n    //     entity.sprites.items = {};\n    //   // Layout 16x64\n    //   for (const [key, networkItem] of Object.entries<any>(\n    //     networkEntity.items\n    //   )) {\n    //     // console.log(networkItem);\n    //     if (!entity.sprites.items[key]) {\n    //       const item = {\n    //         sprite: scene.add.sprite(x, y, 'icons'),\n    //         qty: scene.add.text(x, y, networkItem.quantity)\n    //       };\n    //       item.sprite.setVisible(!item.sprite.visible);\n    //       item.qty.setVisible(!item.qty.visible);\n    //       entity.sprites.items[key] = item;\n    //       switch (key) {\n    //         case 'basicWood':\n    //           entity.sprites.items[key].sprite.setFrame(16 * 60 - 2);\n    //           break;\n    //         case 'basicStone':\n    //           entity.sprites.items[key].sprite.setFrame(16 * 54 - 5);\n    //           break;\n    //         case 'basicHerb':\n    //           entity.sprites.items[key].sprite.setFrame(16 * 18);\n    //           break;\n    //         default:\n    //           break;\n    //       }\n    //       scene.input.topOnly = false;\n    //       entity.sprites.items[key].sprite.setInteractive();\n    //       entity.sprites.items[key].sprite.setData({ id: key });\n    //       entity.sprites.items[key].sprite.setScrollFactor(0, 0);\n    //       entity.sprites.items[key].qty.setData({ id: key });\n    //       entity.sprites.items[key].qty.setInteractive({\n    //         draggable: true,\n    //         // SETUP hitarea\n    //         hitArea: new Phaser.Geom.Rectangle(-16, -16, 32, 32),\n    //         //Check hitarea\n    //         hitAreaCallback: function (hitArea, x, y) {\n    //           return Phaser.Geom.Rectangle.Contains(hitArea, x, y);\n    //         }\n    //       });\n    //       entity.sprites.items[key].qty.setScrollFactor(0, 0);\n    //       scene.input.setDraggable(entity.sprites.items[key].sprite);\n    //       x += 32;\n    //       counter++;\n    //       if (counter > 8) {\n    //         y += 32;\n    //         x = 288;\n    //       }\n    //     }\n    //   }\n    // }\n\n    // if (window.acropolis.currentPlayerId) {\n    //   const currentPlayer =\n    //     window.acropolis.networkSystem.getLocalEntityByNetworkId(\n    //       window.acropolis.currentPlayerId\n    //     );\n    //   const networkEntity =\n    //     window.acropolis.networkSystem.getNetworkEntityByNetworkID(\n    //       window.acropolis.currentPlayerId\n    //     );\n    //   if (currentPlayer) {\n    //     if (networkEntity.items) {\n    //       // Layout 16x64\n    //       // console.log('currentPlayer', networkEntity.items)\n    //       let x = 288;\n    //       let y = 416;\n    //       let counter = 1;\n    //       for (const [key, item] of Object.entries<any>(networkEntity.items)) {\n    //         if (!currentPlayer.sprites.items[key]) {\n    //           currentPlayer.sprites.items[key] = scene.add.sprite(\n    //             x,\n    //             y,\n    //             'icons'\n    //           );\n\n    //           currentPlayer.sprites.items[key].setVisible(false);\n    //           // currentPlayer.sprites.items[key].text = scene.add.text(288, 416, item);\n    //           //wood\n    //           switch (key) {\n    //             case 'basicWood':\n    //               currentPlayer.sprites.items[key].setFrame(16 * 60 - 2);\n    //               break;\n    //             case 'basicStone':\n    //               currentPlayer.sprites.items[key].setFrame(16 * 54 - 5);\n    //               break;\n    //             case 'basicHerb':\n    //               currentPlayer.sprites.items[key].setFrame(16 * 18);\n    //               break;\n    //             default:\n    //               break;\n    //           }\n    //           //stone\n    //           //herb\n    //           currentPlayer.sprites.items[key].setInteractive();\n    //           currentPlayer.sprites.items[key].setScrollFactor(0, 0);\n    //           scene.input.setDraggable(currentPlayer.sprites.items[key]);\n    //         }\n\n    //         x += 32;\n    //         counter++;\n    //         if (counter > 8) {\n    //           y += 32;\n    //           x = 288;\n    //         }\n    //       }\n    //     }\n    //   }\n    // }\n\n    // const exitEntities = spriteQueryExit(world);\n    // for (let i = 0; i < exitEntities.length; i++) {\n    //   const id = exitEntities[i];\n    //   const entity = getLocalEntityByLocalId(id);\n    //   const { wood, stone, herb } = entity.text;\n    //   if (!wood) {\n    //     continue;\n    //   }\n    //   wood.destroy();\n    //   stone.destroy();\n    //   herb.destroy();\n    // }\n    return world;\n  });\n};\n","import { defineQuery, defineSystem } from 'bitecs';\n\nexport const createSkillsSystem = (scene) => {\n  return defineSystem((world) => {\n    const networkEntities = window.acropolis.networkSystem.getNetworkEntities();\n    for (const [entityId, entity] of Object.entries<any>(networkEntities)) {\n      const localEntity =\n        window.acropolis.networkSystem.getLocalEntityByNetworkId(entityId);\n      if (entity?.skillPosition) {\n        if (!localEntity?.skill) {\n          console.log('crea el puto skill');\n          localEntity.skill = {};\n          localEntity.sprites.skill = scene.add.sprite(entity.skillPosition.x, entity.skillPosition.y, 'balla')\n          window.acropolis.stoneShield.play()\n\n        }\n      } \n      else if (localEntity?.skill) {\n        console.log('destroye el puto skill');\n        localEntity.sprites.skill.destroy()\n        localEntity.skill = null;\n      }\n    }\n    return world;\n  });\n};\n","import { flipPlayerX } from './flipPlayer';\nimport { defineQuery, defineSystem } from 'bitecs';\n\nexport const createShootingSystem = (scene) => {\n  return defineSystem((world) => {\n    const networkEntities = window.acropolis.networkSystem.getNetworkEntities();\n    for (const [entityId, entity] of Object.entries<any>(networkEntities)) {\n      const localEntity =\n        window.acropolis.networkSystem.getLocalEntityByNetworkId(entityId);\n      if (entity?.activeShootingPosition) {\n        if (!localEntity?.shoot) {\n          console.log('crea el puto skill');\n          localEntity.shoot = {};\n          localEntity.sprites.shoot = scene.add.sprite(entity.activeShootingPosition.x, entity.activeShootingPosition.y, 'fireball')\n          window.acropolis.fireball.play()\n        }\n        localEntity.sprites.shoot.x = entity.activeShootingPosition.x\n        localEntity.sprites.shoot.y = entity.activeShootingPosition.y\n        localEntity.sprites.shoot.angle += 5\n      } else if (localEntity?.shoot) {\n        console.log('destroye el puto skill');\n        localEntity.sprites.shoot.destroy()\n        localEntity.shoot = null;\n      }\n    }\n    return world;\n  });\n};\n","import Phaser from 'phaser';\nimport loadingBar from '../systems/loadingBar';\nimport {\n  loadImage,\n  loadTilemapTiledJSON,\n  loadSpritesheet,\n  loadAudio\n} from '../phaserHelper/loaders';\nimport { FRAME_SIZE_32_32, FRAME_SIZE_96_96, FRAME_SIZE_16_16, FRAME_SIZE_64_64 } from '../constants/constants';\nimport animatedPlayer from '../systems/playerSpritesheetAnimations';\nimport createGameControllerSystem from '../systems/createGameControllerSystem';\nimport { createWorld } from 'bitecs';\n\nimport { createSpriteSystem } from '../systems/createSpriteSystem';\nimport { createEntitySystem } from '../systems/createEntitySystem';\nimport { createTargetMovementSystem } from './../systems/createTargetMovementSystem';\nimport { createTimeSystem } from '../systems/createTimeSystem';\nimport createAnimationSystem from '../systems/createAnimationSystem';\nimport { createResourceSpriteSystem } from '../systems/createResourceSpriteSystem';\nimport { createHealthBarSystem } from '../systems/createHealthBarSystem';\nimport { createItemsSystem } from '../systems/createItemsSystem';\nimport { createSkillsSystem } from '../systems/createSkillsSystem';\nimport { createShootingSystem } from '../systems/createShootingSystem';\n\ndeclare global {\n  interface Window {\n    acropolis: any;\n  }\n}\nexport default class Game extends Phaser.Scene {\n  private world;\n  private lobbyScene;\n  private spriteSystem;\n  private entitySystem;\n  private targetMovementSystem;\n  private timeSystem;\n  private gameControllerSystem;\n  private animationSystem;\n  private resourceSpriteSystem;\n  private healthBarSystem;\n  private itemsSystem;\n  private skillsSystem\n  private shootingSystem\n\n  init(data) {\n    this.lobbyScene = {};\n    this.lobbyScene.socket = data.socket;\n  }\n  preload() {\n    //This is the place where you load all assets.\n    loadingBar(this);\n    loadImage(this, 'ball', '/game/sprites/spikedballa.png');\n    loadImage(this, 'atlas', '/game/tiled/atlas.png');\n    loadTilemapTiledJSON(this, 'forestkey', '/game/tiled/forest1.json');\n    loadSpritesheet(\n      this,\n      'bodySpriteSheet',\n      '/game/character/characters/char_all.png',\n      FRAME_SIZE_32_32\n    );\n    loadSpritesheet(\n      this,\n      'shoesSpriteSheet',\n      '/game/character/clothes/shoes.png',\n      FRAME_SIZE_32_32\n    );\n    //'buzzcut.png',hitler\n    //'curly.png',afro\n    //'french_curl.png',seora\n    //'gentleman.png', joven\n    //'midiwave.png', greuda\n    //'ponytail.png', chopo de hershey\n    //'spacebuns.png',sailor moon\n    loadSpritesheet(\n      this,\n      'gentlemanHairSpriteSheet',\n      '/game/character/hair/gentleman.png',\n      FRAME_SIZE_32_32\n    );\n    loadSpritesheet(\n      this,\n      'clothesSpriteSheet',\n      '/game/character/clothes/basic.png',\n      FRAME_SIZE_32_32\n    );\n    loadSpritesheet(\n      this,\n      'balla',\n      '/game/sprites/spikedballa.png',\n      FRAME_SIZE_96_96\n    );\n    loadSpritesheet(\n      this,\n      'trees',\n      '/game/nature/global.png',\n      FRAME_SIZE_32_32\n    );\n    loadSpritesheet(\n      this,\n      'globalNature',\n      '/game/nature/global.png',\n      FRAME_SIZE_16_16\n    );\n    loadSpritesheet(\n      this,\n      'sand',\n      '/game/nature/sandy3.png',\n      FRAME_SIZE_32_32\n    );\n    loadSpritesheet(\n      this,\n      'crops',\n      '/game/fullversion/farming/crops.png',\n      FRAME_SIZE_16_16\n    );\n    loadSpritesheet(\n      this,\n      'chicken',\n      '/game/fullversion/animals/chicken_animation.png',\n      FRAME_SIZE_16_16\n    );\n    loadSpritesheet(\n      this,\n      'TXprops',\n      '/game/rpg-pack/Texture/TXProps.png',\n      FRAME_SIZE_32_32\n    );\n    loadSpritesheet(\n      this,\n      'healthBarDecoration',\n      '/game/statusbar/health_bar_decoration.png',\n      {\n        frameWidth: 64,\n        frameHeight: 17\n      }\n    );\n    loadSpritesheet(\n      this,\n      'healthBar',\n      '/game/statusbar/health_bar.png',\n      {\n        frameWidth: 49,\n        frameHeight: 17\n      }\n    );\n    loadSpritesheet(\n      this,\n      'backpack',\n      '/game/rpg-pack/UI/backpack.png',\n      FRAME_SIZE_32_32\n    );\n    loadSpritesheet(\n      this,\n      'inventory',\n      '/game/rpg-pack/UI/inventory.png',\n      {\n        frameWidth: 192,\n        frameHeight: 192\n      }\n    );\n    loadSpritesheet(\n      this,\n      'fireball',\n      '/game/skill/fireball4.png',\n      {\n        frameWidth: 1024,\n        frameHeight: 1024\n      }\n    );\n    loadSpritesheet(\n      this,\n      'icons',\n      '/game/icons/icons_full_32.png',\n      FRAME_SIZE_32_32\n    );\n    loadAudio(this,'playerStep', '/game/sound/grassfootstep.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerSword', '/game/sound/sword1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerWood', '/game/sound/chopppingwood1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerPickaxe', '/game/sound/pickaxe1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerFishing', '/game/sound/fishing1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerWatering', '/game/sound/watering1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerGathering', '/game/sound/bush1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerShoveling', '/game/sound/shoveling1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerHurt', '/game/sound/damage1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerBody', '/game/sound/body1hit.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'music', '/game/music/tavernaloop.mp3', {\n      instances: 1\n    });\n    loadAudio(this,'playerFireball', '/game/sound/fireball1hit.mp3', {\n      instances: 1\n    });\n      loadAudio(this,'playerStoneShield', '/game/sound/stoneshield1hit.mp3', {\n      instances: 1\n    });\n  }\n  create() {\n    window.acropolis.walking = this.sound.add('playerStep', {\n      mute: false,\n      volume: 0.5,\n      rate: 2.3,\n      detune: -0.5,\n      seek: 0,\n      loop: true,\n      delay: 0\n  });\n  window.acropolis.sword = this.sound.add('playerSword', {\n    mute: false,\n    volume: 0.2,\n    rate: 2.0,\n    detune: 0,\n    seek: 0,\n    loop: true,\n    delay: 0\n});\nwindow.acropolis.wood = this.sound.add('playerWood', {\n  mute: false,\n  volume: 0.4,\n  rate: 1,\n  detune: 0,\n  seek: 0,\n  loop: true,\n  delay: 0\n});\nwindow.acropolis.stoneShield = this.sound.add('playerStoneShield', {\n  mute: false,\n  volume: 0.5,\n  rate: 1.2,\n  detune: -1200,\n  seek: 0,\n  loop: false,\n  delay: 0\n});\nwindow.acropolis.pickaxe = this.sound.add('playerPickaxe', {\n  mute: false,\n  volume: 0.8,\n  rate: 0.8,\n  detune: 0,\n  seek: 0,\n  loop: true,\n  delay: 0\n});\nwindow.acropolis.fishing = this.sound.add('playerFishing', {\n  mute: false,\n  volume: 1,\n  rate: 0.6,\n  detune: 0,\n  seek: 0,\n  loop: false,\n  delay: 0\n});\nwindow.acropolis.watering = this.sound.add('playerWatering', {\n  mute: false,\n  volume: 1,\n  rate: 0.6,\n  detune: 0,\n  seek: 0,\n  loop: true,\n  delay: 0\n});\nwindow.acropolis.gathering = this.sound.add('playerGathering', {\n  mute: false,\n  volume: 1,\n  rate: 0.6,\n  detune: 0,\n  seek: 0,\n  loop: true,\n  delay: 0\n});\nwindow.acropolis.shoveling = this.sound.add('playerShoveling', {\n  mute: false,\n  volume: 1,\n  rate: 0.7,\n  detune: 0,\n  seek: 0,\n  loop: true,\n  delay: 0\n});\nwindow.acropolis.hurt = this.sound.add('playerHurt', {\n  mute: false,\n  volume: 0.3,\n  rate: 0.7,\n  detune: 0,\n  seek: 0,\n  loop: false,\n  delay: 0\n});\nwindow.acropolis.fireball = this.sound.add('playerFireball', {\n  mute: false,\n  volume: 0.3,\n  rate: 0.7,\n  detune: 0,\n  seek: 0,\n  loop: false,\n  delay: 0\n});\nwindow.acropolis.body = this.sound.add('playerBody', {\n  mute: false,\n  volume: 0.3,\n  rate: 0.7,\n  detune: 0,\n  seek: 0,\n  loop: false,\n  delay: 0\n});\nwindow.acropolis.music = this.sound.add('music', {\n  mute: false,\n  volume: 0.4,\n  rate: 1,\n  detune: 0,\n  seek: 0,\n  loop: true,\n  delay: 0\n});\nsetTimeout(()=>{\n  console.log('empieza la musica')\n  window.acropolis.music.play()\n\n}, 3000)\n    // this.sound.mute = true\n    this.world = createWorld();\n    this.timeSystem = createTimeSystem();\n    this.entitySystem = createEntitySystem();\n    this.itemsSystem = createItemsSystem(this) \n    this.gameControllerSystem = createGameControllerSystem(\n      this,\n      this.lobbyScene.socket\n    );\n    this.spriteSystem = createSpriteSystem(this, [\n      'bodySpriteSheet',\n      'clothesSpriteSheet',\n      'shoesSpriteSheet'\n    ]);\n    this.skillsSystem = createSkillsSystem(this)\n    this.shootingSystem = createShootingSystem(this)\n    this.healthBarSystem = createHealthBarSystem(this)\n    this.animationSystem = createAnimationSystem(this);\n    this.targetMovementSystem = createTargetMovementSystem(\n      this,\n      this.lobbyScene.socket\n    );\n    this.resourceSpriteSystem = createResourceSpriteSystem(this)\n\n    //Build Map\n    const map = this.make.tilemap({\n      key: 'forestkey',\n      tileWidth: 16,\n      tileHeight: 16\n    });\n    const tileset = map.addTilesetImage('atlas', 'atlas');\n    map.createLayer('piso', tileset, 0, 0);\n    map.createLayer('caminos', tileset, 0, 0);\n    map.createLayer('plantas', tileset, 0, 0);\n    map.createLayer('construcciones', tileset, 0, 0);\n    // Crete player Animations\n    animatedPlayer(this);\n\n    //Restrict camera maximum movement\n    this.cameras.main.setBounds(-500, -500, 10000, 10000);\n\n    //Disable right click context menu\n    this.input.mouse.disableContextMenu();\n    \n    setInterval(() => {\n   \n\n    }, window.acropolis.timeSystem.frameRate);\n\n  }\n  update () {\n    if (\n      !this.world ||\n      !this.spriteSystem ||\n      !this.entitySystem ||\n      !this.targetMovementSystem ||\n      !this.timeSystem\n    ) {\n      // console.log('entra aca', !this.world || !this.spriteSystem || this.playerSystem || this.targetMovementSystem)\n      return;\n    }\n    this.itemsSystem(this.world)\n    this.timeSystem(this.world);\n    this.entitySystem(this.world);\n    this.spriteSystem(this.world);\n    this.healthBarSystem(this.world)\n    this.resourceSpriteSystem(this.world)\n    this.skillsSystem(this.world)\n    this.shootingSystem(this.world)\n    this.targetMovementSystem(this.world);\n    this.gameControllerSystem(this.world);\n    this.animationSystem(this.world);\n  }\n}\n","\n/* eslint-disable */\nexport const networkUpdateStateSystem = (socket) => {\n  const networkEntitiesIDsByLocalID = {}\n  const localEntitiesIDsByNetworkID = {}\n  const localEntities = {};\n\n  // This is only read\n  let networkEntities = {};\n\n  socket.on('broadcastNetworkClient', (data) => {\n    networkEntities = data;\n    // console.log('nwetworkentites', networkEntities)\n  });\n\n  const deleteNetworkEntityIDByLocalID = (id) => {\n    delete networkEntitiesIDsByLocalID[id]\n  }\n  const deleteLocalEntityIDByNetworkID = (id) => {\n    delete localEntitiesIDsByNetworkID[id]\n  }\n  const deleteLocalEntity = (id) => {\n    delete localEntities[id]\n  }\n  const setLocalEntityIDbyNetworkID = (networkId, localId) => {\n    localEntitiesIDsByNetworkID[networkId] = localId\n  }\n\n  const getNetworkEntityByNetworkID = (networkId) => {\n    return networkEntities[networkId]\n  }\n\n  const getLocalEntityIDbyNetworkID = (networkId) => {\n    return localEntitiesIDsByNetworkID[networkId]\n  }\n\n  const getNetworkEntitiesIDsByLocalID = () => {\n    return networkEntitiesIDsByLocalID\n  }\n\n  const getLocalEntitiesIDsByNetworkID = () => {\n    return localEntitiesIDsByNetworkID\n  }\n\n  const setLocalEntityByLocalId = (id, entity) => {\n    localEntities[id] = entity\n  }\n  const getLocalEntityByLocalId = (id) => {\n    const localEntity =  localEntities[id]\n    return localEntity\n  }\n\n  const getLocalEntityByNetworkId = (id) => {\n    // console.log('localEntities', localEntities)\n    const localEntity =  localEntities[getLocalEntityIDbyNetworkID(id)]\n    return localEntity\n  }\n\n\n  const getNetworkEntities = () => {\n    return networkEntities;\n  };\n\n  const getLocalEntities = () => {\n    return localEntities;\n  };\n\n  const setNetworkEntityIDbyLocalID = (networkId, localId) => {\n    networkEntitiesIDsByLocalID[localId] = networkId\n  }\n\n  const getNetworkEntityIDbyLocalID = (localId) => {\n    return networkEntitiesIDsByLocalID[localId]\n  }\n  const getNetworkEntityByLocalId = (id) => {\n    const networkEntity =  networkEntities[getNetworkEntityIDbyLocalID(id)]\n    return networkEntity\n  }\n\n  return {\n    deleteNetworkEntityIDByLocalID,\n    deleteLocalEntityIDByNetworkID,\n    deleteLocalEntity,\n\n    getLocalEntitiesIDsByNetworkID,\n    getNetworkEntitiesIDsByLocalID,\n\n    // Server values must be only readable.\n    getNetworkEntities,\n    getNetworkEntityByLocalId,\n    getNetworkEntityByNetworkID,\n\n    // Local values can be written\n    getLocalEntities,\n    getLocalEntityByLocalId,\n    getLocalEntityByNetworkId,\n    setLocalEntityByLocalId,\n\n    // The glue between server and client.\n    setNetworkEntityIDbyLocalID,\n    getNetworkEntityIDbyLocalID,\n    getLocalEntityIDbyNetworkID,\n    setLocalEntityIDbyNetworkID,\n\n  };\n};\n","import { render } from \"./AcropolisMain.vue?vue&type=template&id=31bb6f8a\"\nimport script from \"./AcropolisMain.vue?vue&type=script&lang=js\"\nexport * from \"./AcropolisMain.vue?vue&type=script&lang=js\"\n\nimport \"./AcropolisMain.vue?vue&type=style&index=0&id=31bb6f8a&lang=css\"\n\nimport exportComponent from \"C:\\\\Proyectos\\\\acropolisgame\\\\acropolis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { Options, Vue } from 'vue-class-component';\nimport AcropolisMain from '../components/AcropolisMain.vue'; // @ is an alias to /src\n\n@Options({\n  components: {\n    AcropolisMain,\n  },\n})\nexport default class Home extends Vue {}\n","import { render } from \"./Home.vue?vue&type=template&id=1d6ccdf8&ts=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Proyectos\\\\acropolisgame\\\\acropolis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  // {\n  //   path: '/about',\n  //   name: 'About',\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  // }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n\r\ncreateApp(App).use(router).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkacropolis\"] = self[\"webpackChunkacropolis\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(81071); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementBlock","_createVNode","_component_router_view","script","__exports__","render","_hoisted_1","class","_ctx","_cache","$props","$setup","$data","$options","_component_AcropolisMain","_resolveComponent","_openBlock","_createElementVNode","style","_hoisted_4","_hoisted_3","_hoisted_8","_hoisted_2","onClick","loadingBar","scene","progressBar","add","graphics","progressBox","text","fillStyle","fillRect","load","on","value","console","log","clear","file","src","destroy","pathHandler","url","pathPrefix","loadImage","key","image","loadTilemapTiledJSON","tilemapTiledJSON","loadSpritesheet","frameSizing","spritesheet","loadAudio","data","audio","frameSize","frameWidth","frameHeight","FRAME_SIZE_32_32","FRAME_SIZE_96_96","FRAME_SIZE_16_16","animatedPlayer","running","frames","anims","generateFrameNumbers","start","end","frameRate","repeat","create","idle","attack","mining","gathering","chopping","fishing","watering","shoveling","runningShoes","idleShoes","attackShoes","miningShoes","gatheringShoes","choppingShoes","fishingShoes","wateringShoes","shovelingShoes","runningHair","idleHair","attackHair","miningHair","gatheringHair","choppingHair","fishingHair","wateringHair","shovelingHair","runningClothes","idleClothes","attackClothes","miningClothes","gatheringClothes","choppingClothes","fishingClothes","wateringClothes","shovelingClothes","cooldownTimer","cooldownTime","timer","currentTime","isReady","triggered","timeCounter","deltaTime","trigger","createGameControllerSystem","socket","inputKeys","keys","input","keyboard","addKeys","inputKeysList","split","activePointer","defineSystem","world","currentPlayer","window","acropolis","networkSystem","getLocalEntityByNetworkId","currentPlayerId","timeSystem","clientDeltaTimeNoFR","i","length","isDown","emit","x","worldX","y","worldY","action","position","Vector2","Types","Actions","defineComponent","actions","GameBarFactory","type","parentRef","currentStats","max","current","Position","TargetPosition","Body","texture","Shoes","Hair","Clothes","Resource","createSpriteSystem","textures","spriteQuery","defineQuery","spriteQueryEnter","enterQuery","spriteQueryExit","exitQuery","getLocalEntityByLocalId","enterEntities","id","entity","networkEntity","getNetworkEntityByLocalId","sprites","body","sprite","clothes","shoes","hair","entities","cameras","main","startFollow","clientDeltaTime","correction","zoom","roundPixels","exitEntities","createEntitySystem","networkEntities","getNetworkEntities","localEntitiesIds","getNetworkEntitiesIDsByLocalID","localEntitiesByNetworkId","getLocalEntitiesIDsByNetworkID","entityId","Object","entries","entityExists","playerId","addEntity","clonedEntity","JSON","parse","stringify","setLocalEntityByLocalId","setLocalEntityIDbyNetworkID","setNetworkEntityIDbyLocalID","addComponent","resourceId","localId","networkId","exist","removeEntity","Number","getDistance","Vector1","Math","sqrt","pow","flipPlayerX","flip","flipX","createTargetMovementSystem","movementQuery","inventory","inventoryOpen","localEntity","distance","target","leftButtonDown","leftButtonReleased","round","createTimeSystem","clientLastUpdate","Date","now","clientLastDeltaTime","clientNow","playerPlayAnimation","animationKey","playerInstance","walking","stop","sword","wood","pickaxe","play","createAnimationSystem","lastAnimation","allPlayers","createResourceSpriteSystem","resourceQuery","resourceQueryEnter","resourceQueryExit","category","setScale","setFrame","animatedChicken","setTimeout","animatedCrop","createHealthBarSystem","healthBarDecoration","setScrollFactor","healthBar","healthPoints","hurt","isPlaying","multiplier","setCrop","createItemsSystem","initBackpack","counter","inventoryLayout","layoutX","layoutY","inventoryId","generateInventoryLayout","push","itemId","makeItemDraggable","items","setInteractive","setData","qty","draggable","hitArea","Phaser","Geom","Rectangle","hitAreaCallback","Contains","setDraggable","updateLayoutCounter","updateInventoryLayoutItem","item","forEach","inventoryItem","setItemImage","manageDnDInventory","pointer","gameObject","dragX","dragY","Snap","To","currentItemInventory","find","invItem","getData","itemToUpdate","createBackPackInventory","backpack","topOnly","setName","openCloseBackpackInventory","objectsClicked","name","setVisible","visible","getNetworkEntityByNetworkID","networkItem","setText","quantity","visibility","createSkillsSystem","skillPosition","skill","stoneShield","createShootingSystem","activeShootingPosition","shoot","fireball","angle","Game","init","this","lobbyScene","preload","instances","sound","mute","volume","rate","detune","seek","loop","delay","music","createWorld","entitySystem","itemsSystem","gameControllerSystem","spriteSystem","skillsSystem","shootingSystem","healthBarSystem","animationSystem","targetMovementSystem","resourceSpriteSystem","map","make","tilemap","tileWidth","tileHeight","tileset","addTilesetImage","createLayer","setBounds","mouse","disableContextMenu","setInterval","update","networkUpdateStateSystem","networkEntitiesIDsByLocalID","localEntitiesIDsByNetworkID","localEntities","deleteNetworkEntityIDByLocalID","deleteLocalEntityIDByNetworkID","deleteLocalEntity","getLocalEntityIDbyNetworkID","getLocalEntities","getNetworkEntityIDbyLocalID","io","location","origin","path","isLoggedIn","loginText","methods","initGame","test","async","once","socketId","web3","Web3","ethereum","request","method","address","eth","getAccounts","token","Web3Token","msg","personal","sign","mounted","config","scale","parent","mode","width","height","game","Home","Vue","Options","components","AcropolisMain","routes","component","router","createRouter","history","createWebHashHistory","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","amdO","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}